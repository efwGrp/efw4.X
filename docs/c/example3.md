# efw 框架动作测试示例

## 概述

ActionTest 是 efw 框架中展示用户界面交互和操作的完整示例，演示了如何实现各种前端操作功能，包括快捷键、元素控制、对话框、文件操作和页面导航等。

## 核心文件

1. **JSP 页面**: `ActionTest.jsp`
2. **JavaScript 事件处理**: `ActionTest_run.js`

## 功能实现

### 1. 快捷键支持
- **功能键**: F1-F12
- **组合键**: CTRL+A 到 CTRL+Z, ALT+S 到 ALT+Z
- 通过 `data-shortcut` 属性定义快捷键

### 2. 元素操作控制
- **显示/隐藏**: `show()` / `hide()` 方法
- **启用/禁用**: `enable()` / `disable()` 方法
- 支持 CSS 选择器定位元素

### 3. 对话框系统
- **警告对话框**: `alert()` 显示简单消息
- **确认对话框**: `confirm()` 带选项的确认对话框
- 支持回调函数处理用户选择

### 4. 元素状态管理
- **文本高亮**: `highlight()` 方法
- **元素聚焦**: `focus()` 方法
- **取消高亮**: 清空高亮状态

### 5. 文件操作
- **创建目录**: `file.makeDir()`
- **写入文件**: `file.writeAllLines()`
- **文件下载**: `attach()` 方法
- **批量操作**: 链式调用支持
- **下载后删除**: `deleteAfterDownload()`

### 6. 页面导航
- **外部跳转**: `navigate()` 到外部URL
- **参数传递**: 支持查询参数

### 7. 文件管理器集成
- 使用 `efw:elFinder` 组件
- 实时更新文件系统状态

## 技术特点

### 1. 统一的API设计
- 所有操作通过 `Result` 对象返回
- 链式调用支持批量操作

### 2. 灵活的元素选择
- 支持 CSS 选择器
- 支持 jQuery 扩展选择器

### 3. 完整的文件操作
- 创建、读取、下载、删除
- 支持文件夹和文件操作
- 压缩下载支持

### 4. 用户交互支持
- 多种对话框类型
- 快捷键绑定
- 视觉反馈（高亮、聚焦）

### 5. 状态管理
- 元素状态控制（显示、隐藏、启用、禁用）
- 文件系统状态同步

## 使用说明

### 1. 环境要求
- 创建 `WEB-INF/efw/storage` 文件夹作为默认文件存储位置

### 2. 快捷键注意事项
- 浏览器可能占用某些快捷键（如 ALT+A）
- 建议测试所有快捷键的浏览器兼容性

### 3. 文件操作流程
1. 先创建文件夹和文件
2. 然后进行下载或删除操作
3. 操作完成后刷新文件管理器

### 4. 对话框处理
- 确认对话框支持自定义按钮和回调
- 支持递归调用事件处理器

> 此示例展示了 efw 框架强大的用户界面交互能力，涵盖了从简单的元素操作到复杂的文件管理和页面导航等各种场景。
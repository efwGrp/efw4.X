# EFW バッチ処理サンプル紹介

EFW（Escco Framework）は強力なバッチ処理機能を提供し、開発者がJavaScriptを使用してバッチ処理ロジックを作成し、WindowsおよびLinux環境で実行することを可能にします。以下は完全なバッチ処理のサンプルです。

## 1. 起動スクリプト

### 1.1 Windowsバッチ起動スクリプト
**ファイル名**: `helloBatch.bat`

### 1.2 Linuxバッチ起動スクリプト
**ファイル名**: `helloBatch.sh`

## 2. バッチ処理ビジネスロジック

**メインファイル**: `helloBatch.js`

### パラメータ定義
```javascript
var helloBatch = {};
helloBatch.paramsFormat = {
    "sysDate": "format:yyy/MM/dd;display-name:sysdate"
};
```

### 主な機能モジュール
- **2.1** Excelファイル操作
- **2.2** PDFファイル処理
- **2.3** テキストおよびCSVファイル処理
- **2.4** データベース操作
- **2.5** REST API呼び出し
- **2.6** メール送信

## 3. 実行フロー

1. **環境準備**: JDK、TOMCATパスとクラスパスの設定
2. **パラメータ受け渡し**: JSON形式でシステム日付パラメータを渡す
3. **ログ記録**: 出力をログファイルにリダイレクト
4. **業務実行**: 各機能モジュールを順次実行
5. **結果返却**: Batchオブジェクトを通じて実行結果を返す

## 4. 技術的特長

- **クロスプラットフォーム対応**: WindowsとLinuxの両方の起動スクリプトを提供
- **統一API**: 一貫したJavaScript APIを使用した各種操作
- **トランザクション管理**: データベーストランザクションのコミットとロールバックをサポート
- **エラー処理**: 完善した例外処理とログ記録メカニズム
- **テンプレート化**: Excel、PDFなどのファイルのテンプレート操作をサポート

## 5. 使用方法

### Windows環境での実行
```batch
helloBatch.bat
```

### Linux環境での実行
```bash
chmod +x helloBatch.sh
./helloBatch.sh
```

### 実行結果の確認
```bash
tail -f $TOMCAT/logs/helloBatch.log
```

このサンプルは、EFWバッチ処理フレームワークの強力な機能を示しており、企業アプリケーションで一般的なファイル処理、データベース操作、API統合などのシナリオをカバーし、複雑なバッチ処理タスクに対する完全なソリューションを提供します。
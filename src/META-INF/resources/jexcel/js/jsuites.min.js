/**
 * (c) jSuites Javascript Web Components (v2.7)
 *
 * Author: Paul Hodel <paul.hodel@gmail.com>
 * Website: https://bossanova.uk/jsuites/
 * Description: Create amazing web based applications.
 *
 * MIT License
 *
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.jSuites=t()}(this,function(){"use strict";var jSuites=function(){var d={init:function(){var e=document.querySelector(".japp");d.el=e||document.body},guid:function(){for(var e="",t=0;t<32;t++)e+=Math.floor(15*Math.random()).toString(15);return e},getWindowWidth:function(){var e=window,t=document,n=t.documentElement,o=t.getElementsByTagName("body")[0];return e.innerWidth||n.clientWidth||o.clientWidth},getWindowHeight:function(){var e=window,t=document,n=t.documentElement,o=t.getElementsByTagName("body")[0];return e.innerHeight||n.clientHeight||o.clientHeight},getPosition:function(e){if(e.changedTouches&&e.changedTouches[0])var t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY;else t=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),n=window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[t,n]},click:function(e){if(e.click)e.click();else{var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}}};d.getElement=function(e,n){var o=!1;return function e(t){t.className&&t.classList.contains(n)&&(o=t),t.parentNode&&e(t.parentNode)}(e),o},d.getLinkElement=function(e){var n=!1;return function e(t){"A"!=t.tagName&&"DIV"!=t.tagName||!t.getAttribute("data-href")||(n=t),t.parentNode&&e(t.parentNode)}(e),n},d.getFormElements=function(e){var t={};if(e)var n=e.querySelectorAll("input, select, textarea");else n=document.querySelectorAll("input, select, textarea");for(var o=0;o<n.length;o++){var i=n[o],a=i.name,r=i.value;a&&(t[a]=r)}return t},d.exists=function(e,t){var n=new XMLHttpRequest;n.open("HEAD",e,!1),n.send(),n.status&&t(n.status)},d.getFiles=function(e){e||console.error("No element defined in the arguments of your method");var t=e.querySelectorAll(".jfile");if(0<t.length){for(var n=[],o=0;o<t.length;o++){var i={},a=t[o].getAttribute("src");t[o].classList.contains("jremove")?i.remove=1:("data"==a.substr(0,4)?(i.content=a.substr(a.indexOf(",")+1),i.extension=t[o].getAttribute("data-extension")):(i.file=a,i.extension=t[o].getAttribute("data-extension"),i.extension||(i.extension=a.substr(a.lastIndexOf(".")+1)),jSuites.files[i.file]&&(i.content=jSuites.files[i.file])),t[o].getAttribute("data-name")&&(i.name=t[o].getAttribute("data-name")),t[o].getAttribute("data-file")&&(i.file=t[o].getAttribute("data-file")),t[o].getAttribute("data-size")&&(i.size=t[o].getAttribute("data-size")),t[o].getAttribute("data-date")&&(i.date=t[o].getAttribute("data-date")),t[o].getAttribute("data-cover")&&(i.cover=t[o].getAttribute("data-cover"))),n[o]=i}return n}},d.ajax=function(n){if(n.data||(n.data={}),n.type&&(n.method=n.type),n.data){var e=[],t=Object.keys(n.data);if(t.length)for(var o=0;o<t.length;o++)if("object"==typeof n.data[t[o]])for(var i=n.data[t[o]],a=0;a<i.length;a++)if("string"==typeof i[a])e.push(t[o]+"["+a+"]="+encodeURIComponent(i[a]));else for(var r=Object.keys(i[a]),s=0;s<r.length;s++)e.push(t[o]+"["+a+"]["+r[s]+"]="+encodeURIComponent(i[a][r[s]]));else e.push(t[o]+"="+encodeURIComponent(n.data[t[o]]));"GET"==n.method&&0<e.length&&(n.url.indexOf("?")<0&&(n.url+="?"),n.url+=e.join("&"))}var l=new XMLHttpRequest;return l.open(n.method,n.url,!0),"POST"==n.method?(l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):"json"==n.dataType&&l.setRequestHeader("Content-Type","text/json"),1==n.cache&&(l.setRequestHeader("pragma","no-cache"),l.setRequestHeader("cache-control","no-cache")),1==n.withCredentials&&(l.withCredentials=!0),"function"==typeof n.beforeSend&&n.beforeSend(l),l.onload=function(){if(200===l.status)if("json"==n.dataType)try{var t=JSON.parse(l.responseText);n.success&&"function"==typeof n.success&&n.success(t)}catch(e){n.error&&"function"==typeof n.error&&n.error(t)}else{t=l.responseText;n.success&&"function"==typeof n.success&&n.success(t)}else n.error&&"function"==typeof n.error&&n.error(l.responseText);if(d.ajax.requests&&d.ajax.requests.length){var e=d.ajax.requests.indexOf(l);d.ajax.requests.splice(e,1),d.ajax.requests.length||n.complete&&"function"==typeof n.complete&&n.complete(t)}},e?l.send(e.join("&")):l.send(),d.ajax.requests.push(l),l},d.ajax.requests=[],d.slideLeft=function(e,t,n){1==t?(e.classList.add("slide-left-in"),setTimeout(function(){e.classList.remove("slide-left-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-left-out"),setTimeout(function(){e.classList.remove("slide-left-out"),"function"==typeof n&&n()},400))},d.slideRight=function(e,t,n){1==t?(e.classList.add("slide-right-in"),setTimeout(function(){e.classList.remove("slide-right-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-right-out"),setTimeout(function(){e.classList.remove("slide-right-out"),"function"==typeof n&&n()},400))},d.slideTop=function(e,t,n){1==t?(e.classList.add("slide-top-in"),setTimeout(function(){e.classList.remove("slide-top-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-top-out"),setTimeout(function(){e.classList.remove("slide-top-out"),"function"==typeof n&&n()},400))},d.slideBottom=function(e,t,n){1==t?(e.classList.add("slide-bottom-in"),setTimeout(function(){e.classList.remove("slide-bottom-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-bottom-out"),setTimeout(function(){e.classList.remove("slide-bottom-out"),"function"==typeof n&&n()},100))},d.fadeIn=function(e,t){e.classList.add("fade-in"),setTimeout(function(){e.classList.remove("fade-in"),"function"==typeof t&&t()},2e3)},d.fadeOut=function(e,t){e.classList.add("fade-out"),setTimeout(function(){e.classList.remove("fade-out"),"function"==typeof t&&t()},1e3)},d.keyDownControls=function(e){if(27==e.which){var t=document.querySelectorAll(".jslider");if(0<t.length)for(var n=0;n<t.length;n++)t[n].slider.close();document.querySelector(".jdialog")&&jSuites.dialog.close()}else 13==e.which&&document.querySelector(".jdialog")&&("function"==typeof jSuites.dialog.options.onconfirm&&jSuites.dialog.options.onconfirm(),jSuites.dialog.close());jSuites.mask&&jSuites.mask.apply(e)};function e(e){var t=null;if(t=jSuites.getLinkElement(e.target)){var n=t.getAttribute("data-href");"#back"==n?window.history.back():"#panel"==n?jSuites.panel():jSuites.pages(n)}}return document.addEventListener("swipeleft",function(e){var t;(t=jSuites.getElement(e.target,"option"))&&t.querySelector(".option-actions")?t.scrollTo({left:100,behavior:"smooth"}):(t=jSuites.getElement(e.target,"jcalendar"))&&jSuites.calendar.current?jSuites.calendar.current.prev():jSuites.panel&&(t=jSuites.panel.get())&&"none"!=t.style.display&&jSuites.panel.close()}),document.addEventListener("swiperight",function(e){var t;(t=jSuites.getElement(e.target,"option"))&&t.querySelector(".option-actions")?t.scrollTo({left:0,behavior:"smooth"}):(t=jSuites.getElement(e.target,"jcalendar"))&&jSuites.calendar.current?jSuites.calendar.current.next():jSuites.panel&&(t=jSuites.panel.get())&&"none"==t.style.display&&jSuites.panel()}),document.addEventListener("keydown",d.keyDownControls),"ontouchend"in document.documentElement==!0?document.addEventListener("touchend",e):document.addEventListener("mouseup",e),document.addEventListener("mouseover",function(e){jSuites.tooltip&&jSuites.tooltip(e)}),document.addEventListener("mouseout",function(e){jSuites.tooltip&&jSuites.tooltip.hide()}),document.addEventListener("DOMContentLoaded",function(){d.init()}),window.onpopstate=function(e){e.state&&e.state.route&&jSuites.pages.get(e.state.route)&&jSuites.pages(e.state.route,{ignoreHistory:!0})},d}(),Qj,Rj,Wm,Xm,Ym,Zm,yn;return jSuites.files=[],jSuites.calendar=function(l,e){var h={options:{}};jSuites.calendar.current||(jSuites.calendar.current=null);var t={format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdays_short:["S","M","T","W","T","F","S"],value:null,onclose:null,onchange:null,fullscreen:!1,mode:null,position:null,opened:!1};for(var n in t)e&&e.hasOwnProperty(n)?h.options[n]=e[n]:h.options[n]=t[n];if(!h.options.value&&l.value&&(h.options.value=l.value),h.options.format=h.options.format.toUpperCase(),h.options.value){var o=(i=h.options.value.split(" "))[1],i=i[0].split("-"),a=parseInt(i[0]),r=parseInt(i[1]),s=parseInt(i[2]);if(o){o=o.split(":");var d=parseInt(o[0]),c=parseInt(o[1])}else d=0,c=0}else a=(i=new Date).getFullYear(),r=i.getMonth()+1,s=i.getDate(),d=i.getHours(),c=i.getMinutes();h.date=[a,r,s,d,c,0];function u(e){return 1==(e=""+e).length&&(e="0"+e),e}l.classList.add("jcalendar-input");var p=document.createElement("div");p.className="jcalendar-reset",p.innerHTML="Reset";var m=document.createElement("div");m.className="jcalendar-confirm",m.innerHTML="Done",(O=document.createElement("div")).className="jcalendar-controls",h.options.resetButton&&O.appendChild(p),O.appendChild(m);var f=document.createElement("div");f.className="jcalendar-container";var g=document.createElement("div");g.className="jcalendar-content",g.appendChild(O),f.appendChild(g);var v=document.createElement("div");v.className="jcalendar",v.appendChild(f);var w=document.createElement("td");w.setAttribute("colspan","2"),w.className="jcalendar-prev";var y=document.createElement("span");y.className="jcalendar-year";var b=document.createElement("span");b.className="jcalendar-month";var j=document.createElement("td");j.className="jcalendar-header",j.setAttribute("colspan","3"),j.appendChild(b),j.appendChild(y);var L=document.createElement("td");L.setAttribute("colspan","2"),L.className="jcalendar-next";var E=document.createElement("tr");E.appendChild(w),E.appendChild(j),E.appendChild(L);var S=document.createElement("thead");S.appendChild(E);var C=document.createElement("tbody"),x=document.createElement("tfoot"),T=document.createElement("table");T.setAttribute("cellpadding","0"),T.setAttribute("cellspacing","0"),T.appendChild(S),T.appendChild(C),T.appendChild(x),g.appendChild(T);var A=document.createElement("select");A.className="jcalendar-select",A.onchange=function(){h.date[3]=this.value};for(c=0;c<24;c++){(H=document.createElement("option")).value=c,H.innerHTML=u(c),A.appendChild(H)}var O,M=document.createElement("select");M.className="jcalendar-select",M.onchange=function(){h.date[4]=this.value};for(c=0;c<60;c++){var H;(H=document.createElement("option")).value=c,H.innerHTML=u(c),M.appendChild(H)}(O=document.createElement("div")).className="jcalendar-controls";var N=document.createElement("div");N.className="jcalendar-time",N.style.maxWidth="140px",N.appendChild(A),N.appendChild(M);var k=document.createElement("div");k.style.flexGrow="10",k.innerHTML='<input type="button" class="jcalendar-update" value="Update">',O.appendChild(N),O.appendChild(k),g.appendChild(O);var I=document.createElement("div");I.className="jcalendar-backdrop",v.appendChild(I),h.open=function(e){if(!v.classList.contains("jcalendar-focus"))if(jSuites.calendar.current&&jSuites.calendar.current.close(),jSuites.calendar.current=h,v.classList.add("jcalendar-focus"),h.getDays(),h.options.time&&(A.value=h.date[3],M.value=h.date[4]),jSuites.getWindowWidth()<800||h.options.fullscreen)v.classList.add("jcalendar-fullsize"),jSuites.slideBottom(g,1);else{var t=l.getBoundingClientRect(),n=g.getBoundingClientRect();h.options.position?(f.style.position="fixed",window.innerHeight<t.bottom+n.height?f.style.top=t.top-(n.height+2)+"px":f.style.top=t.top+t.height+2+"px",f.style.left=t.left+"px"):window.innerHeight<t.bottom+n.height?f.style.bottom=+t.height+n.height+2+"px":f.style.top="2px"}},h.close=function(e,t){return jSuites.calendar.current=null,0!=t&&"INPUT"==l.tagName&&h.setValue(h.getValue()),e||"function"!=typeof h.options.onclose||h.options.onclose(l),v.classList.remove("jcalendar-focus"),h.getValue()},h.prev=function(){"years"==h.options.mode?(h.date[0]=h.date[0]-12,h.getYears()):(h.date[1]<2?(h.date[0]=h.date[0]-1,h.date[1]=12):h.date[1]=h.date[1]-1,h.getDays())},h.next=function(){"years"==h.options.mode?(h.date[0]=parseInt(h.date[0])+12,h.getYears()):(11<h.date[1]?(h.date[0]=h.date[0]+1,h.date[1]=1):h.date[1]=h.date[1]+1,h.getDays())},h.setValue=function(e){if(e){h.options.value=e;h.setLabel(e,h.options.format);(n=h.options.value.split(" "))[1]||(n[1]="00:00:00");var t=n[1].split(":"),n=n[0].split("-"),o=parseInt(n[0]),i=parseInt(n[1]),a=parseInt(n[2]),r=parseInt(t[0]),s=parseInt(t[1]);h.date=[o,i,a,r,s,0];e=h.setLabel(e,h.options.format);l.value!=e&&(l.value=e,"function"==typeof h.options.onchange&&h.options.onchange(l,e,h.date)),h.getDays()}},h.getValue=function(){return h.date?h.options.time?u(h.date[0])+"-"+u(h.date[1])+"-"+u(h.date[2])+" "+u(h.date[3])+":"+u(h.date[4])+":"+u(0):u(h.date[0])+"-"+u(h.date[1])+"-"+u(h.date[2])+" "+u(0)+":"+u(0)+":"+u(0):""},h.update=function(e){h.date[2]=e.innerText,h.options.time?(h.date[3]=A.value,h.date[4]=M.value):h.close();var t=v.querySelector(".jcalendar-selected");t&&t.classList.remove("jcalendar-selected"),e.classList.add("jcalendar-selected")},h.reset=function(){h.date=null,l.value="",h.close()},h.getDays=function(){h.options.mode="days";var e=0,t=0,n=0,o=new Date,i=h.date&&h.date[0]?h.date[0]:parseInt(o.getFullYear()),a=h.date&&h.date[1]?h.date[1]:parseInt(o.getMonth())+1,r=h.date&&h.date[2]?h.date[2]:parseInt(o.getDay()),s=h.date&&h.date[3]?h.date[3]:parseInt(o.getHours()),l=h.date&&h.date[4]?h.date[4]:parseInt(o.getMinutes());h.date=[i,a,r,s,l,0],y.innerHTML=i,b.innerHTML=h.options.months[a-1],o.getMonth()==a-1&&o.getFullYear()==i&&(t=1,n=o.getDate());var d=(o=new Date(i,a,0,0,0)).getDate(),c=(o=new Date(i,a-1,0,s,l)).getDay()+1;C.innerHTML="",(m=document.createElement("tr")).setAttribute("align","center"),C.appendChild(m);for(var u=0;u<7;u++){(f=document.createElement("td")).setAttribute("width","30"),f.classList.add("jcalendar-weekday"),f.innerHTML=h.options.weekdays_short[u],m.appendChild(f)}if(7==c)var p=7;else p=0;(m=document.createElement("tr")).setAttribute("align","center"),C.appendChild(m);for(u=p;u<7*Math.ceil((d+c)/7);u++){var m,f;if(0<u&&!(u%7))(m=document.createElement("tr")).setAttribute("align","center"),C.appendChild(m);c<=u&&u<d+c?e+=1:e=0,(f=document.createElement("td")).setAttribute("width","30"),f.classList.add("jcalendar-set-day"),m.appendChild(f),f.innerHTML=0==e?"":e<10?0+e:e,e&&e==r&&f.classList.add("jcalendar-selected"),u%7||(f.style.color="red"),1==t&&n==e&&(f.style.fontWeight="bold")}h.options.time?N.style.display="":N.style.display="none"},h.getMonths=function(){h.options.mode="months";var e=h.options.months;y.innerHTML=h.date[0],b.innerHTML="";var t='<td colspan="7"><table width="100%"><tr align="center">';for(c=0;c<12;c++){0<c&&!(c%4)&&(t+='</tr><tr align="center">'),t+='<td class="jcalendar-set-month" data-value="'+(parseInt(c)+1)+'">'+e[c]+"</td>"}t+="</tr></table></td>",C.innerHTML=t},h.getYears=function(){h.options.mode="years";var e=[];for(c=0;c<25;c++)e[c]=parseInt(h.date[0])+(c-12);var t='<td colspan="7"><table width="100%"><tr align="center">';for(c=0;c<25;c++)0<c&&!(c%5)&&(t+='</tr><tr align="center">'),t+='<td class="jcalendar-set-year">'+e[c]+"</td>";t+="</tr></table></td>",C.innerHTML=t},h.setLabel=function(e,t){return jSuites.calendar.getDateString(e,t)},h.fromFormatted=function(e,t){return jSuites.calendar.extractDateFromString(e,t)},l.setAttribute("autocomplete","off"),l.setAttribute("data-mask",h.options.format.toLowerCase()),h.options.readonly&&l.setAttribute("readonly","readonly"),h.options.placeholder&&l.setAttribute("placeholder",h.options.placeholder);function D(e){var t=e.target.className;"jcalendar-prev"==t?(h.prev(),e.stopPropagation(),e.preventDefault()):"jcalendar-next"==t?(h.next(),e.stopPropagation(),e.preventDefault()):"jcalendar-month"==t?(h.getMonths(),e.stopPropagation(),e.preventDefault()):"jcalendar-year"==t?(h.getYears(),e.stopPropagation(),e.preventDefault()):"jcalendar-set-year"==t?(h.date[0]=e.target.innerText,h.getDays(),e.stopPropagation(),e.preventDefault()):"jcalendar-set-month"==t?(h.date[1]=parseInt(e.target.getAttribute("data-value")),h.getDays(),e.stopPropagation(),e.preventDefault()):"jcalendar-confirm"==t||"jcalendar-update"==t||"jcalendar-close"==t?(h.close(),e.stopPropagation(),e.preventDefault()):"jcalendar-backdrop"==t?(h.close(!1,!1),e.stopPropagation(),e.preventDefault()):"jcalendar-reset"==t?(h.reset(),e.stopPropagation(),e.preventDefault()):e.target.classList.contains("jcalendar-set-day")&&e.target.innerText&&(h.update(e.target),e.stopPropagation(),e.preventDefault())}return l.addEventListener("keyup",function(e){if(e.target.value&&3<e.target.value.length){var t=jSuites.calendar.extractDateFromString(e.target.value,h.options.format);t&&"true"==e.target.getAttribute("data-completed")&&h.setValue(t)}}),v.addEventListener("swipeleft",function(e){jSuites.slideLeft(T,0,function(){h.next(),jSuites.slideRight(T,1)}),e.preventDefault(),e.stopPropagation()}),v.addEventListener("swiperight",function(e){jSuites.slideRight(T,0,function(){h.prev(),jSuites.slideLeft(T,1)}),e.preventDefault(),e.stopPropagation()}),"ontouchend"in document.documentElement==!0?(v.addEventListener("touchend",D),l.addEventListener("touchend",function(e){h.open()})):(v.addEventListener("mouseup",D),l.addEventListener("mouseup",function(e){h.open()})),l.parentNode.insertBefore(v,l.nextSibling),1==(l.calendar=h).options.opened&&h.open(),h},jSuites.calendar.prettify=function(e,t){if(!t)t={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"};var n=new Date,o=new Date(e),i=parseInt((n-o)/1e3/60);if(String.prototype.format=function(e){return this.replace("{0}",e)},0==i)var a=t.justNow;else if(i<90)a=t.xMinutesAgo.format(i);else if(i<1440)a=t.xHoursAgo.format(Math.round(i/60));else if(i<20160)a=t.xDaysAgo.format(Math.round(i/1440));else if(i<43200)a=t.xWeeksAgo.format(Math.round(i/10080));else if(i<1036800)a=t.xMonthsAgo.format(Math.round(i/43200));else a=t.xYearsAgo.format(Math.round(i/525600));return a},jSuites.calendar.prettifyAll=function(){for(var e=document.querySelectorAll(".prettydate"),t=0;t<e.length;t++)e[t].getAttribute("data-date")?e[t].innerHTML=jSuites.calendar.prettify(e[t].getAttribute("data-date")):(e[t].setAttribute("data-date",e[t].innerHTML),e[t].innerHTML=jSuites.calendar.prettify(e[t].innerHTML))},jSuites.calendar.now=function(){function e(e){return 1==(e=""+e).length&&(e="0"+e),e}var t=new Date,n=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),a=t.getHours(),r=t.getMinutes(),s=t.getSeconds();return e(n)+"-"+e(o)+"-"+e(i)+" "+e(a)+":"+e(r)+":"+e(s)},jSuites.calendar.extractDateFromString=function(e,t){var n=""+e,o=t.replace(/[0-9]/g,""),i=1,a=o.search("YYYY");a=n.substr(a,4),parseInt(a)!=a&&(i=0);var r=o.search("MM");r=n.substr(r,2),(parseInt(r)!=r||12<s)&&(i=0);var s=o.search("DD");s=n.substr(s,2),(parseInt(s)!=s||31<s)&&(i=0);var l=o.search("HH");0<=l?(l=n.substr(l,2),(!parseInt(l)||23<l)&&(l="00")):l="00";var d=o.search("MI");0<=d?(d=n.substr(d,2),(!parseInt(d)||59<d)&&(d="00")):d="00";var c=o.search("SS");return 0<=c?(c=n.substr(c,2),(!parseInt(c)||59<c)&&(c="00")):c="00",1!=i||e.length!=o.length?"":a+"-"+r+"-"+s+" "+l+":"+d+":"+c},jSuites.calendar.getDateString=function(e,t){if(!t)t="DD/MM/YYYY";if(e){var n=""+e,o="",i="",a="";if((n=n.split(" "))[1]?(i=(o=n[1].split(":"))[1]?o[1]:"00",a=o[2]?o[2]:"00",o=o[0]?o[0]:"00"):a=i=o="00",(n=n[0].split("-"))[0]&&n[1]&&n[2]&&0<n[0]&&0<n[1]&&n[1]<13&&0<n[2]&&n[2]<32){var r=new Date(n[0],n[1]-1,n[2]),s=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),l=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");n[1]=(n[1].length<2?"0":"")+n[1],n[2]=(n[2].length<2?"0":"")+n[2],o=(o.length<2?"0":"")+o,i=(i.length<2?"0":"")+i,a=(a.length<2?"0":"")+a,e=(e=(e=(e=(e=(e=(e=t).replace("WD",s[r.getDay()])).replace("DD",n[2])).replace("MM",n[1])).replace("YYYY",n[0])).replace("YY",n[0].substring(2,4))).replace("MON",l[parseInt(n[1])-1].toUpperCase()),o&&(e=e.replace("HH24",o)),e=(e=(e=(e=12<o?(e=e.replace("HH12",o-12)).replace("HH",o):(e=e.replace("HH12",o)).replace("HH",o)).replace("MI",i)).replace("MM",i)).replace("SS",a)}else e=""}return e},jSuites.calendar.isOpen=function(e){jSuites.calendar.current&&(e.target.className&&-1!=e.target.className.indexOf("jcalendar")||jSuites.calendar.current.close())},"ontouchstart"in document.documentElement==!0?document.addEventListener("touchstart",jSuites.calendar.isOpen):document.addEventListener("mousedown",jSuites.calendar.isOpen),jSuites.color=function(n,e){var o={options:{},values:[]};jSuites.color.current||(jSuites.color.current=null);var t={placeholder:"",value:null,onclose:null,onchange:null};for(var i in t)e&&e.hasOwnProperty(i)?o.options[i]=e[i]:o.options[i]=t[i];for(var a={red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},lightgreen:{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100"},deeporange:{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},bluegrey:{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"}},r=[],s=Object.keys(a),l=Object.keys(a[s[0]]),d=0;d<s.length;d++)for(var c=0;c<l.length;c++)r[c]||(r[c]=[]),r[c][d]=a[s[d]][l[c]];o.options.value&&(n.value=o.options.value);var u=document.createElement("div");u.className="jcolor";var p=document.createElement("div");p.className="jcolor-backdrop",u.appendChild(p);var m=document.createElement("div");m.className="jcolor-content";var f=document.createElement("div");f.className="jcolor-close",f.innerHTML="Done",f.onclick=function(){o.close()},m.appendChild(f);var h=document.createElement("table");h.setAttribute("cellpadding","7"),h.setAttribute("cellspacing","0");for(d=0;d<r.length;d++){var g=document.createElement("tr");for(c=0;c<r[d].length;c++){var v=document.createElement("td");v.style.backgroundColor=r[d][c],v.setAttribute("data-value",r[d][c]),v.innerHTML="",g.appendChild(v),o.options.value==r[d][c]&&v.classList.add("jcolor-selected"),o.values[r[d][c]]=v}h.appendChild(g)}return o.open=function(){if(jSuites.color.current&&jSuites.color.current!=o&&jSuites.color.current.close(),!jSuites.color.current){jSuites.color.current=o,u.classList.add("jcolor-focus");var e=m.getBoundingClientRect();if(jSuites.getWindowWidth()<800)m.style.top="",m.classList.add("jcolor-fullscreen"),jSuites.slideBottom(m,1),p.style.display="block";else{m.classList.contains("jcolor-fullscreen")&&(m.classList.remove("jcolor-fullscreen"),p.style.display="");var t=n.getBoundingClientRect();window.innerHeight<t.bottom+e.height?m.style.top=-1*(e.height+2)+"px":m.style.top=t.height+"px"}u.focus()}},o.close=function(e){return jSuites.color.current&&(jSuites.color.current=null,e||"function"!=typeof o.options.onclose||o.options.onclose(n),u.classList.remove("jcolor-focus")),p.style.display="",o.options.value},o.setValue=function(e){e&&(n.value=e,o.options.value=e);var t=u.querySelector(".jcolor-selected");t&&t.classList.remove("jcolor-selected"),o.values[e].classList.add("jcolor-selected"),"function"==typeof o.options.onchange&&o.options.onchange(n,e)},o.getValue=function(){return o.options.value},n.addEventListener("focus",function(e){o.open()}),n.addEventListener("mousedown",function(e){o.open()}),u.addEventListener("mouseup",function(e){"TD"==e.target.tagName&&(jSuites.color.current.setValue(e.target.getAttribute("data-value")),jSuites.color.current.close())}),document.addEventListener("mousedown",function(e){jSuites.color.current&&(jSuites.getElement(e.target,"jcolor")||jSuites.color.current.close())}),u.setAttribute("tabindex","900"),o.options.placeholder&&n.setAttribute("placeholder",o.options.placeholder),m.appendChild(h),u.appendChild(m),n.parentNode.insertBefore(u,n),n.color=o},jSuites.contextmenu=function(a,e){var r={options:{}},t={items:null,onclick:null};for(var n in t)e&&e.hasOwnProperty(n)?r.options[n]=e[n]:r.options[n]=t[n];return a.classList.add("jcontextmenu"),a.setAttribute("tabindex","900"),r.open=function(e,t){if(t&&(r.options.items=t,r.create(t)),e.target)var n=e.clientX,o=e.clientY;else n=e.x,o=e.y;a.classList.add("jcontextmenu-focus"),a.focus();var i=a.getBoundingClientRect();window.innerHeight<o+i.height?a.style.top=o-i.height+"px":a.style.top=o+"px",window.innerWidth<n+i.width?0<n-i.width?a.style.left=n-i.width+"px":a.style.left="10px":a.style.left=n+"px"},r.close=function(){a.classList.contains("jcontextmenu-focus")&&a.classList.remove("jcontextmenu-focus")},r.create=function(e){a.innerHTML="";for(var t=0;t<e.length;t++){if(e[t].type&&"line"==e[t].type)var n=document.createElement("hr");else{n=document.createElement("div");var o=document.createElement("a");if(o.innerHTML=e[t].title,e[t].disabled?n.className="jcontextmenu-disabled":e[t].onclick&&(n.method=e[t].onclick,n.addEventListener("mouseup",function(){this.method(this)})),n.appendChild(o),e[t].shortcut){var i=document.createElement("span");i.innerHTML=e[t].shortcut,n.appendChild(i)}}a.appendChild(n)}},"function"==typeof r.options.onclick&&a.addEventListener("click",function(e){r.options.onclick(r)}),a.addEventListener("blur",function(e){setTimeout(function(){r.close()},120)}),window.addEventListener("mousewheel",function(){r.close()}),r.options.items&&r.create(r.options.items),a.contextmenu=r},jSuites.contextmenu.getElement=function(e){var n=0;return function e(t){t.parentNode&&t.getAttribute("aria-contextmenu-id")?n=t.getAttribute("aria-contextmenu-id"):t.parentNode&&e(t.parentNode)}(e),n},document.addEventListener("contextmenu",function(e){var t=jSuites.contextmenu.getElement(e.target);if(t){var n=document.querySelector("#"+t);n?(n.contextmenu.open(e),e.preventDefault()):console.error("JSUITES: Contextmenu id not found")}}),jSuites.dialog=function(){var t={options:{}},n=document.createElement("div");n.setAttribute("tabindex","901"),n.className="jdialog",n.id="dialog";var e=document.createElement("div");e.className="jdialog-header";var o=document.createElement("div");o.className="jdialog-title",e.appendChild(o);var i=document.createElement("div");i.className="jdialog-message",e.appendChild(i);var a=document.createElement("div");a.className="jdialog-footer";var r=document.createElement("div");r.className="jdialog-container",r.appendChild(e),r.appendChild(a);var s=document.createElement("div"),l=document.createElement("input");l.value=t.options.confirmLabel,l.type="button",l.onclick=function(){"function"==typeof t.options.onconfirm&&t.options.onconfirm(),t.close()},s.appendChild(l),a.appendChild(s);var d=document.createElement("div"),c=document.createElement("input");return c.value=t.options.cancelLabel,c.type="button",c.onclick=function(){"function"==typeof t.options.oncancel&&t.options.oncancel(),t.close()},d.appendChild(c),a.appendChild(d),n.appendChild(r),t.open=function(e){t.options=e,t.options.title&&(o.innerHTML=t.options.title),t.options.message&&(i.innerHTML=t.options.message),t.options.confirmLabel||(t.options.confirmLabel="OK"),l.value=t.options.confirmLabel,t.options.cancelLabel||(t.options.cancelLabel="Cancel"),c.value=t.options.cancelLabel,"confirm"==t.options.type?c.parentNode.style.display="":c.parentNode.style.display="none",n.style.opacity=100,jSuites.el?jSuites.el.appendChild(n):document.body.appendChild(n),n.focus(),setTimeout(function(){r.style.opacity=100},0)},t.close=function(){n.style.opacity=0,r.style.opacity=0,setTimeout(function(){n.remove()},100)},t}(),jSuites.confirm=function(e,t){jSuites.getWindowWidth()<800?jSuites.dialog.open({type:"confirm",message:e,title:"Confirmation",onconfirm:t}):confirm(e)&&t()},jSuites.alert=function(e){jSuites.getWindowWidth()<800?jSuites.dialog.open({title:"Alert",message:e}):alert(e)},jSuites.dropdown=function(r,e){var u={options:{}};if("SELECT"==r.tagName){var t=jSuites.dropdown.extractFromDom(r,e);r=t.el,e=t.options}var n={url:null,data:[],multiple:!1,autocomplete:!1,type:null,width:null,opened:!1,value:null,placeholder:"",position:!1,onchange:null,onload:null,onopen:null,onclose:null,onblur:null};for(var o in n)e&&e.hasOwnProperty(o)?u.options[o]=e[o]:u.options[o]=n[o];jSuites.dropdown.current||(jSuites.dropdown.current=null),u.items=[],u.groups=[],u.selected=[],r.classList.add("jdropdown"),"searchbar"==u.options.type?r.classList.add("jdropdown-searchbar"):"list"==u.options.type?r.classList.add("jdropdown-list"):"picker"==u.options.type?r.classList.add("jdropdown-picker"):jSuites.getWindowWidth()<800?(r.classList.add("jdropdown-picker"),u.options.type="picker"):(u.options.width&&(r.style.width=u.options.width,r.style.minWidth=u.options.width),r.classList.add("jdropdown-default"),u.options.type="default");var i=document.createElement("div");i.className="jdropdown-container-header";var a=document.createElement("input");a.className="jdropdown-header","function"==typeof u.options.onblur&&(a.onblur=function(){u.options.onblur(r)});var s=document.createElement("div");s.className="jdropdown-container";var p=document.createElement("div");p.className="jdropdown-content";var l=document.createElement("div");l.className="jdropdown-close",l.innerHTML="Done";var d=document.createElement("div");if(d.className="jdropdown-backdrop",1==u.options.autocomplete){r.setAttribute("data-autocomplete",!0);var c=null;a.addEventListener("keyup",function(e){c&&clearTimeout(c),c=setTimeout(function(){u.find(a.value),c=null},500),r.classList.contains("jdropdown-focus")||65<e.which&&u.open()})}else a.setAttribute("readonly","readonly");return!u.options.placeholder&&r.getAttribute("placeholder")&&(u.options.placeholder=r.getAttribute("placeholder")),u.options.placeholder&&a.setAttribute("placeholder",u.options.placeholder),i.appendChild(a),"searchbar"==u.options.type?i.appendChild(l):s.appendChild(l),s.appendChild(p),r.appendChild(i),r.appendChild(s),r.appendChild(d),u.init=function(){u.options.url?jSuites.ajax({url:u.options.url,method:"GET",dataType:"json",success:function(e){e&&(u.setData(e),null!=u.options.value&&u.setValue(u.options.value),"function"==typeof u.options.onload&&u.options.onload(r,u,e))}}):(u.setData(),null!=u.options.value&&u.setValue(u.options.value),"function"==typeof u.options.onload&&u.options.onload(r,u,data)),1==u.options.opened&&u.open()},u.getUrl=function(){return u.options.url},u.setUrl=function(e){u.options.url=e,jSuites.ajax({url:u.options.url,method:"GET",dataType:"json",success:function(e){u.setData(e)}})},u.createItem=function(e){var t={};if(t.element=document.createElement("div"),t.element.className="jdropdown-item",t.value=e.id,t.text=e.name,t.textLowerCase=e.name.toLowerCase(),e.image){var n=document.createElement("img");n.className="jdropdown-image",n.src=e.image,e.title||n.classList.add("jdropdown-image-small"),t.element.appendChild(n)}var o=document.createElement("div");if(o.className="jdropdown-description",o.innerHTML=e.name,e.title){var i=document.createElement("div");i.className="jdropdown-title",i.innerHTML=e.title,o.appendChild(i)}return t.element.appendChild(o),t},u.setData=function(e){e&&(u.options.data=e);e=u.options.data;p.innerHTML="",u.reset(),u.items=[];var t=[],n=[];if(e.length){for(var o=0;o<e.length;o++)"object"!=typeof e[o]&&(u.options.data[o]=e[o]={id:e[o],name:e[o]}),e[o].group?(n[e[o].group]||(n[e[o].group]=[]),n[e[o].group].push(o)):t.push(o);var i=Object.keys(n);if(0<i.length)for(o=0;o<i.length;o++){var a=document.createElement("div");a.className="jdropdown-group";var r=document.createElement("div");r.className="jdropdown-group-name",r.innerHTML=i[o];var s=document.createElement("i");s.className="jdropdown-group-arrow jdropdown-group-arrow-down",r.appendChild(s);var l=document.createElement("div");l.className="jdropdown-group-items";for(var d=0;d<n[i[o]].length;d++){var c=u.createItem(e[n[i[o]][d]]);l.appendChild(c.element),u.items.push(c)}a.appendChild(r),a.appendChild(s),a.appendChild(l),p.appendChild(a)}if(t.length)for(o=0;o<t.length;o++){c=u.createItem(e[t[o]]);u.items.push(c),p.appendChild(c.element)}for(o=0;o<u.items.length;o++)u.items[o].element.setAttribute("data-index",o)}},u.getText=function(e){for(var t=[],n=0;n<u.selected.length;n++)u.items[u.selected[n]]&&t.push(u.items[u.selected[n]].text);return e?t:t.join("; ")},u.getValue=function(e){for(var t=[],n=0;n<u.selected.length;n++)u.items[u.selected[n]]&&t.push(u.items[u.selected[n]].value);return e?t:t.join(";")},u.setValue=function(e){for(var t=0;t<u.selected.length;t++)u.items[u.selected[t]].element.classList.remove("jdropdown-selected");if(u.selected=[],null!=e)if(Array.isArray(e))for(t=0;t<u.items.length;t++)for(var n=0;n<e.length;n++)u.items[t].value==e[n]&&(u.selected.push(t),u.items[t].element.classList.add("jdropdown-selected"));else for(t=0;t<u.items.length;t++)u.items[t].value==e&&(u.selected.push(t),u.items[t].element.classList.add("jdropdown-selected"));u.updateLabel()},u.selectIndex=function(e){if(u.items&&u.items[e]){e=e=parseInt(e);var t=u.getValue(),n=u.getText();if(null!=u.currentIndex&&u.items[u.currentIndex].element.classList.remove("jdropdown-cursor"),u.items[e].element.classList.add("jdropdown-cursor"),u.currentIndex=e,u.options.multiple){if(u.items[e].element.classList.contains("jdropdown-selected")){u.items[e].element.classList.remove("jdropdown-selected");var o=u.selected.indexOf(e);u.selected.splice(o,1)}else u.items[e].element.classList.add("jdropdown-selected"),u.selected.push(e);u.options.autocomplete||u.updateLabel()}else u.items[e].element.classList.contains("jdropdown-selected")?u.resetSelected():(u.resetSelected(),u.items[e].element.classList.add("jdropdown-selected"),u.selected.push(e),u.close());var i=u.getValue(),a=u.getText();"function"==typeof u.options.onchange&&u.options.onchange(r,e,t,i,n,a)}},u.selectItem=function(e){if(jSuites.dropdown.current){var t=e.getAttribute("data-index");null!=t&&u.selectIndex(t)}},u.find=function(e){e=e?e.toLowerCase():null;for(var t=0;t<u.items.length;t++)null==e||-1!=u.items[t].textLowerCase.indexOf(e)?u.items[t].element.style.display="":-1==u.selected.indexOf(t)?u.items[t].element.style.display="none":u.items[t].element.style.display=""},u.updateLabel=function(){a.value=u.getText()},u.open=function(){if(jSuites.dropdown.current!=r&&(jSuites.dropdown.current&&jSuites.dropdown.current.dropdown.close(),jSuites.dropdown.current=r),!r.classList.contains("jdropdown-focus")){r.classList.add("jdropdown-focus"),jSuites.getWindowWidth()<800&&(null!=u.options.type&&"picker"!=u.options.type||jSuites.slideBottom(s,1)),1==u.options.autocomplete&&(u.find(),a.value="",a.focus());var e=u.selected&&u.selected[0]?u.selected[0]:0;if(u.updateCursor(e),!u.options.type||"default"==u.options.type){var t=r.getBoundingClientRect(),n=s.getBoundingClientRect();u.options.position?(s.style.position="fixed",window.innerHeight<t.bottom+n.height?s.style.top=t.top-n.height-2+"px":s.style.top=t.top+t.height+1+"px",s.style.left=t.left+"px"):window.innerHeight<t.bottom+n.height?s.style.bottom=t.height+"px":(s.style.top="",s.style.bottom=""),s.style.minWidth=t.width+"px"}}"function"==typeof u.options.onopen&&u.options.onopen(r)},u.close=function(e){return jSuites.dropdown.current&&(jSuites.dropdown.current=null,u.resetCursor(),u.updateLabel(),e||"function"!=typeof u.options.onclose||u.options.onclose(r),a.blur&&a.blur(),r.classList.remove("jdropdown-focus")),u.getValue()},u.updateCursor=function(e){if(u.items&&u.items[e]&&u.items[e].element){u.resetCursor(),u.items[e].element.classList.add("jdropdown-cursor"),u.currentIndex=parseInt(e);p.scrollTop;var t=u.items[u.currentIndex].element;p.scrollTop=t.offsetTop-t.scrollTop+t.clientTop-95}},u.resetCursor=function(){null!=u.currentIndex&&(u.items&&u.items[u.currentIndex]&&u.items[u.currentIndex].element.classList.remove("jdropdown-cursor"),u.currentIndex=null)},u.resetSelected=function(){if(u.selected){for(var e=0;e<u.selected.length;e++)u.items[u.selected[e]]&&u.items[u.selected[e]].element.classList.remove("jdropdown-selected");u.selected=[]}},u.reset=function(){u.resetCursor(),u.resetSelected(),u.updateLabel()},u.firstVisible=function(){for(var e=null,t=0;t<u.items.length;t++)if("none"!=u.items[t].element.style.display){e=t;break}if(null==e)return!1;u.updateCursor(e)},u.first=function(){for(var e=null,t=u.currentIndex-1;0<=t;t--)"none"!=u.items[t].element.style.display&&(e=t);if(null==e)return!1;u.updateCursor(e)},u.last=function(){for(var e=null,t=u.currentIndex+1;t<u.items.length;t++)"none"!=u.items[t].element.style.display&&(e=t);if(null==e)return!1;u.updateCursor(e)},u.next=function(){for(var e=null,t=u.currentIndex+1;t<u.items.length;t++)if("none"!=u.items[t].element.style.display){e=t;break}if(null==e)return!1;u.updateCursor(e)},u.prev=function(){for(var e=null,t=u.currentIndex-1;0<=t;t--)if("none"!=u.items[t].element.style.display){e=t;break}if(null==e)return!1;u.updateCursor(e)},jSuites.dropdown.hasEvents||("ontouchsend"in document.documentElement==!0?document.addEventListener("touchsend",jSuites.dropdown.mouseup):document.addEventListener("mouseup",jSuites.dropdown.mouseup),document.addEventListener("keydown",jSuites.dropdown.onkeydown),jSuites.dropdown.hasEvents=!0),u.init(),r.dropdown=u},jSuites.dropdown.hasEvents=!1,jSuites.dropdown.mouseup=function(e){var t=jSuites.getElement(e.target,"jdropdown");if(t){var n=t.dropdown;if(e.target.classList.contains("jdropdown-header"))t.classList.contains("jdropdown-focus")&&t.classList.contains("jdropdown-default")?n.close():n.open();else if(e.target.classList.contains("jdropdown-group-name")){var o=e.target.nextSibling.children;if("none"!=e.target.nextSibling.style.display)for(var i=0;i<o.length;i++)"none"!=o[i].style.display&&n.selectItem(o[i])}else e.target.classList.contains("jdropdown-group-arrow")?e.target.classList.contains("jdropdown-group-arrow-down")?(e.target.classList.remove("jdropdown-group-arrow-down"),e.target.classList.add("jdropdown-group-arrow-up"),e.target.parentNode.nextSibling.style.display="none"):(e.target.classList.remove("jdropdown-group-arrow-up"),e.target.classList.add("jdropdown-group-arrow-down"),e.target.parentNode.nextSibling.style.display=""):e.target.classList.contains("jdropdown-item")?n.selectItem(e.target):e.target.classList.contains("jdropdown-image")||e.target.classList.contains("jdropdown-description")?n.selectIndex(e.target.parentNode.getAttribute("data-index")):e.target.classList.contains("jdropdown-title")?n.selectIndex(e.target.parentNode.parentNode.getAttribute("data-index")):(e.target.classList.contains("jdropdown-close")||e.target.classList.contains("jdropdown-backdrop"))&&n.close();e.stopPropagation(),e.preventDefault()}else jSuites.dropdown.current&&jSuites.dropdown.current.dropdown.close()},jSuites.dropdown.onkeydown=function(e){if(jSuites.dropdown.current){var t=jSuites.dropdown.current.dropdown,n=t.currentIndex;e.shiftKey||13!=e.which&&27!=e.which&&35!=e.which&&36!=e.which&&38!=e.which&&40!=e.which||(13==e.which?t.selectIndex(n):38==e.which?null==n?t.firstVisible():0<n&&t.prev():40==e.which?null==n?t.firstVisible():n+1<t.options.data.length&&t.next():36==e.which?t.first():35==e.which?t.last():27==e.which&&t.close(),e.stopPropagation(),e.preventDefault())}},jSuites.dropdown.extractFromDom=function(e,i){var a=e;if(i=i||{},!e.getAttribute("multiple")||i&&null!=i.multiple||(i.multiple=!0),!e.getAttribute("placeholder")||i&&null!=i.placeholder||(i.placeholder=e.getAttribute("placeholder")),!e.getAttribute("data-autocomplete")||i&&null!=i.autocomplete||(i.autocomplete=!0),i&&null!=i.width||(i.width=e.offsetWidth),!e.value||i&&null!=i.value||(i.value=e.value),!i||null==i.data){i.data=[];for(var t=0;t<e.children.length;t++)if("OPTGROUP"==e.children[t].tagName)for(var n=0;n<e.children[t].children.length;n++)i.data.push({id:e.children[t].children[n].value,name:e.children[t].children[n].innerHTML,group:e.children[t].getAttribute("label")});else i.data.push({id:e.children[t].value,name:e.children[t].innerHTML})}i&&null!=i.onchange||(i.onchange=function(e,t,n,o){1==i.multiple?obj.items[t].classList.contains("jdropdown-selected")?a.options[t].setAttribute("selected","selected"):a.options[t].removeAttribute("selected"):a.value=o});var o=document.createElement("div");return e.parentNode.insertBefore(o,e),e.style.display="none",{el:e=o,options:i}},jSuites.editor=function(s,e){var l={options:{}},t={value:null,snippet:null,toolbar:null,maxHeight:null,remoteParser:null,youtubeKey:null,userSearch:null,parseURL:!1,dropZone:!0,dropAsAttachment:!1,acceptImages:!0,acceptFiles:!1,maxFileSize:5e6,border:!0,padding:!0,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onenter:null,onkeyup:null,onkeydown:null};for(var n in t)e&&e.hasOwnProperty(n)?l.options[n]=e[n]:l.options[n]=t[n];var o=null,r=null;s.innerHTML="",s.classList.add("jeditor-container"),1==l.options.padding&&s.classList.add("jeditor-padding"),0==l.options.border&&(s.style.border="0px");var d=document.createElement("div");d.className="snippet",d.setAttribute("contenteditable",!1);var i=document.createElement("div");i.className="jeditor-toolbar";var c=document.createElement("div");if(c.setAttribute("contenteditable",!0),c.setAttribute("spellcheck",!1),c.className="jeditor",l.options.maxHeight&&(c.style.overflowY="auto",c.style.maxHeight=l.options.maxHeight),l.options.value)var a=l.options.value;else a=s.innerHTML?s.innerHTML:"";if(!a)a="<br>";function u(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelectorAll("img");if(n.length)for(var o=0;o<n.length;o++)l.addImage(n[o].src)}function p(e){var t,n;if(window.getSelection&&(t=window.getSelection()).rangeCount){(n=t.getRangeAt(0)).toString();n.deleteContents(),n.insertNode(e),n.setStartAfter(e),n.setEndAfter(e),t.removeAllRanges(),t.addRange(n)}}function m(e){if(d.innerHTML="",e.image){(n=document.createElement("div")).className="snippet-image",n.setAttribute("data-k","image"),d.appendChild(n);var t=document.createElement("img");t.src=e.image,n.appendChild(t)}var n;(n=document.createElement("div")).className="snippet-title",n.setAttribute("data-k","title"),n.innerHTML=e.title,d.appendChild(n),(n=document.createElement("div")).className="snippet-description",n.setAttribute("data-k","description"),n.innerHTML=e.description,d.appendChild(n),(n=document.createElement("div")).className="snippet-host",n.setAttribute("data-k","host"),n.innerHTML=e.host,d.appendChild(n),(n=document.createElement("div")).className="snippet-url",n.setAttribute("data-k","url"),n.innerHTML=e.url,d.appendChild(n),c.appendChild(d)}function f(){clearTimeout(o),o=setTimeout(function(){var e=c.querySelector(".snippet"),t=s.querySelector(".jeditor-thumbs-container");if(!e&&!t){var n=c.innerHTML.replace(/\n/g," "),o=document.createElement("div");o.innerHTML=n,(t=o.querySelector(".jeditor-thumbs-container"))&&t.remove();var i=o.innerText,a=jSuites.editor.detectUrl(i);if(a)if("jpg"==a[0].substr(-3)||"png"==a[0].substr(-3)||"gif"==a[0].substr(-3))jSuites.editor.getDomain(a[0])==window.location.hostname?l.importImage(a[0],""):l.importImage(l.options.remoteParser+a[0],"");else{var r=jSuites.editor.youtubeParser(a[0]);r?l.getYoutube(r):l.getWebsite(a[0])}}},1e3)}l.parseContent=function(){f()},l.getYoutube=function(n){l.options.youtubeKey?jSuites.ajax({url:"https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&key="+l.options.youtubeKey+"&id="+n,method:"GET",dataType:"json",success:function(e){if(e.items&&e.items[0]){var t={title:"",description:"",image:"",host:"www.youtube.com",url:"https://www.youtube.com?watch="+n};e.items[0].snippet.title&&(t.title=e.items[0].snippet.title),e.items[0].snippet.description&&(t.description=e.items[0].snippet.description,150<t.description.length&&(t.description=t.description.substr(0,150)+"...")),e.items[0].snippet.thumbnails.medium.url&&(t.image=e.items[0].snippet.thumbnails.medium.url),m(t)}}}):console.error("The youtubeKey is not defined")},l.getWebsite=function(n){l.options.remoteParser?jSuites.ajax({url:l.options.remoteParser+encodeURI(n.trim()),method:"GET",dataType:"json",success:function(e){var t={title:"",description:"",image:"",host:n,url:n};e.title&&(t.title=e.title),e.description&&(t.description=e.description),e.image?t.image=e.image:e["og:image"]&&(t.image=e["og:image"]),e.host&&(t.host=e.host),e.url&&(t.url=e.url),m(t)}}):console.log("The remoteParser is not defined")},l.setData=function(e){c.innerHTML=e,cursor()},l.getData=function(e){if(e){r={content:""};var t=c.querySelectorAll(".post-tag");if(t.length){r.users=[];for(var n=0;n<t.length;n++){var o=t[n].getAttribute("data-user");o&&r.users.push(o)}r.users=r.users.join(",")}if(d.innerHTML){r.snippet={};for(n=0;n<d.children.length;n++){var i=d.children[n].getAttribute("data-k");i&&("image"==i?r.snippet.image=d.children[n].children[0].getAttribute("src"):r.snippet[i]=d.children[n].innerHTML)}d.innerHTML="",d.remove()}var a=c.innerHTML;a=(a=(a=a.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),r.content=a.trim(),r=JSON.stringify(r)}else var r=c.innerHTML;return r},l.reset=function(){c.innerHTML=""},l.addPdf=function(n){if("data"!=n.result.substr(0,4))console.error("Invalid source");else{var e=document.createElement("canvas");e.width=60,e.height=60;var t=new Image;e.getContext("2d").drawImage(t,0,0,e.width,e.height),e.toBlob(function(e){var t=document.createElement("img");t.src=window.URL.createObjectURL(e),t.setAttribute("data-extension","pdf"),n.name&&t.setAttribute("data-name",n.name),n.size&&t.setAttribute("data-size",n.size),n.date&&t.setAttribute("data-date",n.date),t.className="jfile pdf",p(t),jSuites.files[t.src]=n.result.substr(n.result.indexOf(",")+1)})}},l.addImage=function(e,i,a,r){if("data"==e.substr(0,4)||l.options.remoteParser){if("data"==e.substr(0,4)){s=(s=(s=e.split(";"))[0].split("/"))[1]}else{var s=e.substr(e.lastIndexOf(".")+1);e=l.options.remoteParser+e}var t=new Image;t.onload=function(){var o=document.createElement("canvas");o.width=t.width,o.height=t.height,o.getContext("2d").drawImage(t,0,0,o.width,o.height),o.toBlob(function(e){var t=document.createElement("img");t.src=window.URL.createObjectURL(e),t.setAttribute("tabindex","900"),t.setAttribute("data-extension",s),i&&t.setAttribute("data-name",i),a&&t.setAttribute("data-size",a),r&&t.setAttribute("data-date",r),t.className="jfile";var n=o.toDataURL();p(t),jSuites.files[t.src]=n.substr(n.indexOf(",")+1)})},t.src=e}else console.error("remoteParser not defined in your initialization")},l.addFile=function(e){for(var t=[],n=0;n<e.length;n++)if(e[n].size>l.options.maxFileSize)alert("The file is too big");else{var o=e[n].type.split("/");(o="image"==o[0]?1:"pdf"==o[1]?2:0)?(t[n]=new FileReader,t[n].index=n,t[n].type=o,t[n].name=e[n].name,t[n].date=e[n].lastModified,t[n].size=e[n].size,t[n].addEventListener("load",function(e){2==e.target.type?1==l.options.acceptFiles&&l.addPdf(e.target):l.addImage(e.target.result,e.target.name,e.total,e.target.lastModified)},!1),t[n].readAsDataURL(e[n])):alert("The extension is not allowed")}},l.destroy=function(){c.removeEventListener("mouseup",h),c.removeEventListener("mousedown",g),c.removeEventListener("mousemove",v),c.removeEventListener("keyup",w),c.removeEventListener("keydown",y),c.removeEventListener("dragstart",j),c.removeEventListener("dragenter",L),c.removeEventListener("dragover",E),c.removeEventListener("drop",S),c.removeEventListener("paste",b),"function"==typeof l.options.onblur&&c.removeEventListener("blur",C),"function"==typeof l.options.onfocus&&c.removeEventListener("focus",x),s.editor=null,s.classList.remove("jeditor-container"),i.remove(),d.remove(),c.remove()};var h=function(e){r=!1},g=function(n){function e(e){var t=e.getBoundingClientRect();t.width-(n.clientX-t.left)<40&&n.clientY-t.top<40&&(e.innerHTML="",e.remove())}if("IMG"==n.target.tagName)if(n.target.style.cursor){var t=n.target.getBoundingClientRect();r={e:n.target,x:n.clientX,y:n.clientY,w:t.width,h:t.height,d:n.target.style.cursor},n.target.style.width||(n.target.style.width=t.width+"px"),n.target.style.height||(n.target.style.height=t.height+"px");var o=window.getSelection();if(o.rangeCount)for(var i=0;i<o.rangeCount;i++)o.removeRange(o.getRangeAt(i))}else r=!0;else n.target.classList.contains("snippet")?e(n.target):n.target.parentNode.classList.contains("snippet")&&e(n.target.parentNode),r=!0},v=function(e){if("IMG"==e.target.tagName&&e.target.getAttribute("tabindex")){var t=e.target.getBoundingClientRect();e.clientY-t.top<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="ne-resize":e.clientX-t.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":t.height-(e.clientY-t.top)<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="se-resize":e.clientX-t.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":t.width-(e.clientX-t.left)<5?e.target.style.cursor="e-resize":e.clientX-t.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""}if(1==e.which&&r&&r.d){if("e-resize"==r.d||"ne-resize"==r.d||"se-resize"==r.d)if(r.e.style.width=r.w+(e.clientX-r.x)+"px",e.shiftKey){var n=(e.clientX-r.x)*(r.h/r.w);r.e.style.height=r.h+n+"px"}else n=null;n||"s-resize"!=r.d&&"se-resize"!=r.d&&"sw-resize"!=r.d||e.shiftKey||(r.e.style.height=r.h+(e.clientY-r.y))}},w=function(e){c.innerHTML||(c.innerHTML="<div><br></div>"),"function"==typeof l.options.onkeyup&&l.options.onkeyup(e,s)},y=function(e){if(1==l.options.parseURL&&f(),"function"==typeof l.options.onenter&&13==e.which){var t=l.getData();l.options.onenter(l,s,t,e)}"function"==typeof l.options.onkeydown&&l.options.onkeydown(e,s)},b=function(e){if(e.clipboardData||e.originalEvent.clipboardData)var t=(e.originalEvent||e).clipboardData.getData("text/html"),n=(e.originalEvent||e).clipboardData.getData("text/plain"),o=(e.originalEvent||e).clipboardData.files;else if(window.clipboardData)t=window.clipboardData.getData("Html"),n=window.clipboardData.getData("Text"),o=window.clipboardData.files;if(o.length)l.addFile(o);else{n=n.split("\r\n");var i="";if("DIV"!=e.target.nodeName||e.target.classList.contains("jeditor"))for(a=0;a<n.length;a++)n[a]?i+="<div>"+n[a]+"</div>":i+="<div><br></div>";else for(var a=0;a<n.length;a++)n[a]&&(i+=n[a]+"<br>\r\n");document.execCommand("insertHtml",!1,i),1==l.options.acceptImages&&u(t)}e.preventDefault()},j=function(e){r&&r.e&&e.preventDefault()},L=function(e){r||0==l.options.dropZone||s.classList.add("jeditor-dragging")},E=function(e){r||0==l.options.dropZone||(o&&clearTimeout(o),o=setTimeout(function(){s.classList.remove("jeditor-dragging")},100))},S=function(e){if(!r&&0!=l.options.dropZone){var t=null;document.caretRangeFromPoint?t=document.caretRangeFromPoint(e.clientX,e.clientY):e.rangeParent&&(t=document.createRange()).setStart(e.rangeParent,e.rangeOffset);var n=window.getSelection();n.removeAllRanges(),n.addRange(t),n.anchorNode.parentNode.focus();var o=(e.originalEvent||e).dataTransfer.getData("text/html"),i=(e.originalEvent||e).dataTransfer.getData("text/plain"),a=(e.originalEvent||e).dataTransfer.files;a.length?l.addFile(a):i&&u(o),s.classList.remove("jeditor-dragging"),e.preventDefault()}},C=function(){l.options.onblur(l,s,l.getData())},x=function(){l.options.onfocus(l,s,l.getData())};if(c.addEventListener("mouseup",h),c.addEventListener("mousedown",g),c.addEventListener("mousemove",v),c.addEventListener("keyup",w),c.addEventListener("keydown",y),c.addEventListener("dragstart",j),c.addEventListener("dragenter",L),c.addEventListener("dragover",E),c.addEventListener("drop",S),c.addEventListener("paste",b),"function"==typeof l.options.onblur&&c.addEventListener("blur",C),"function"==typeof l.options.onfocus&&c.addEventListener("focus",x),"function"==typeof l.options.onload&&l.options.onload(s,c),c.innerHTML=a,s.appendChild(c),l.options.snippet&&m(l.options.snippet),null==l.options.toolbar&&(l.options.toolbar=jSuites.editor.getDefaultToolbar()),l.options.toolbar){for(var T=0;T<l.options.toolbar.length;T++)if(l.options.toolbar[T].icon){(O=document.createElement("div")).style.userSelect="none";var A=document.createElement("i");A.className="material-icons",A.innerHTML=l.options.toolbar[T].icon,A.onclick=function(){var e=T;return function(){l.options.toolbar[e].onclick(s,l,this)}}(),O.appendChild(A),i.appendChild(O)}else{if("divisor"==l.options.toolbar[T].type)(O=document.createElement("div")).className="jeditor-toolbar-divisor",i.appendChild(O);else if("button"==l.options.toolbar[T].type){var O;(O=document.createElement("div")).classList.add("jeditor-toolbar-button"),O.innerHTML=l.options.toolbar[T].value,i.appendChild(O)}}s.appendChild(i)}return l.options.focus&&jSuites.editor.setCursor(c,"initial"==l.options.focus),s.editor=l},jSuites.editor.setCursor=function(e,t){e.focus(),document.execCommand("selectAll");var n=window.getSelection(),o=n.getRangeAt(0);if(1==t)var i=o.startContainer,a=0;else a=(i=o.endContainer).length;o.setStart(i,a),o.setEnd(i,a),n.removeAllRanges(),n.addRange(o)},jSuites.editor.getDomain=function(e){return e.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0].split(/:/g)[0]},jSuites.editor.detectUrl=function(e){var t=e.match(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi);return t&&"www"==t[0].substr(0,3)&&(t[0]="http://"+t[0]),t},jSuites.editor.youtubeParser=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return!(!t||11!=t[7].length)&&t[7]},jSuites.editor.getDefaultToolbar=function(){return[{icon:"undo",onclick:function(){document.execCommand("undo")}},{icon:"redo",onclick:function(){document.execCommand("redo")}},{type:"divisor"},{icon:"format_bold",onclick:function(e,t,n){document.execCommand("bold"),document.queryCommandState("bold")?n.classList.add("selected"):n.classList.remove("selected")}},{icon:"format_italic",onclick:function(e,t,n){document.execCommand("italic"),document.queryCommandState("italic")?n.classList.add("selected"):n.classList.remove("selected")}},{icon:"format_underline",onclick:function(e,t,n){document.execCommand("underline"),document.queryCommandState("underline")?n.classList.add("selected"):n.classList.remove("selected")}},{type:"divisor"},{icon:"format_list_bulleted",onclick:function(e,t,n){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{icon:"format_list_numbered",onclick:function(e,t,n){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{icon:"format_indent_increase",onclick:function(e,t,n){document.execCommand("indent",!0,null),document.queryCommandState("indent")?n.classList.add("selected"):n.classList.remove("selected")}},{icon:"format_indent_decrease",onclick:function(e,t,n){document.execCommand("outdent"),document.queryCommandState("outdent")?n.classList.add("selected"):n.classList.remove("selected")}}]},jSuites.image=function(r,e){var s={options:{}},t={minWidth:!1,onchange:null,singleFile:!0,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed",imageTooSmall:"The resolution is too low, try a image with a better resolution. width > 800px"}};for(var n in t)e&&e.hasOwnProperty(n)?s.options[n]=e[n]:s.options[n]=t[n];r.classList.add("jupload"),s.addImage=function(e){e.date||(e.date="");var t=document.createElement("img");return t.setAttribute("data-date",e.lastmodified?e.lastmodified:e.date),t.setAttribute("data-name",e.name),t.setAttribute("data-size",e.size),t.setAttribute("data-small",e.small?e.small:""),t.setAttribute("data-cover",e.cover?1:0),t.setAttribute("data-extension",e.extension),t.setAttribute("src",e.file),t.className="jfile",t.style.width="100%",t},s.addImages=function(e){1==s.options.singleFile&&(r.innerHTML="");for(var t=0;t<e.length;t++)r.appendChild(s.addImage(e[t]))},s.addFromFile=function(i){if("image"==i.type.split("/")[0]){1==s.options.singleFile&&(r.innerHTML="");var e=new FileReader;e.addEventListener("load",function(e){var o=new Image;o.onload=function(){var e=document.createElement("canvas");e.width=o.width,e.height=o.height,e.getContext("2d").drawImage(o,0,0,e.width,e.height);var t={file:e.toDataURL(),extension:i.name.substr(i.name.lastIndexOf(".")+1),name:i.name,size:i.size,lastmodified:i.lastModified},n=s.addImage(t);r.appendChild(n),"function"==typeof s.options.onchange&&s.options.onchange(n)},o.src=e.srcElement.result}),e.readAsDataURL(i)}else alert(text.extentionNotAllowed)},s.addFromUrl=function(e){if("data"==e.substr(0,4)||s.options.remoteParser){if("data"==e.substr(0,4)){a=(a=(a=e.split(";"))[0].split("/"))[1]}else{var a=e.substr(e.lastIndexOf(".")+1);e=s.options.remoteParser+e}var t=new Image;t.onload=function(){var i=document.createElement("canvas");i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0,i.width,i.height),i.toBlob(function(e){var t={file:window.URL.createObjectURL(e),extension:a},n=s.addImage(t);r.appendChild(n);var o=i.toDataURL();jSuites.files[t.file]=o.substr(o.indexOf(",")+1),"function"==typeof s.options.onchange&&s.options.onchange(n)})},t.src=e}else console.error("remoteParser not defined in your initialization")};var o=document.createElement("input");return o.type="file",o.setAttribute("accept","image/*"),o.onchange=function(){for(var e=0;e<this.files.length;e++)s.addFromFile(this.files[e])},r.addEventListener("dblclick",function(e){jSuites.click(o)}),r.addEventListener("dragenter",function(e){r.style.border="1px dashed #000"}),r.addEventListener("dragleave",function(e){r.style.border="1px solid #eee"}),r.addEventListener("dragstop",function(e){r.style.border="1px solid #eee"}),r.addEventListener("dragover",function(e){e.preventDefault()}),r.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation();var t=(e.originalEvent||e).dataTransfer.getData("text/html");if((e.originalEvent||e).dataTransfer.files.length)for(var n=0;n<e.dataTransfer.files.length;n++)s.addFromFile(e.dataTransfer.files[n]);else if(t){1==s.options.singleFile&&(r.innerHTML="");var o=document.createElement("div");o.innerHTML=t;var i=o.querySelectorAll("img");if(i.length)for(n=0;n<i.length;n++)s.addFromUrl(i[n].src)}return!(r.style.border="1px solid #eee")}),r.image=s},jSuites.loading=(Qj={},Rj=document.createElement("div"),Rj.className="jloading",Qj.show=function(){document.body.appendChild(Rj)},Qj.hide=function(){document.body.removeChild(Rj)},Qj),jSuites.login=function(i,e){var a={options:{}},t={url:window.location.href,prepareRequest:null,accessToken:null,deviceToken:null,facebookUrl:null,maxHeight:null,onload:null,onerror:null,message:null,logo:null,newProfile:!1,newProfileUrl:!1,newProfileLogin:!1,fullscreen:!1};for(var n in t)e&&e.hasOwnProperty(n)?a.options[n]=e[n]:a.options[n]=t[n];if(!a.options.message){var o=document.querySelector(".message");o&&(a.options.message=o)}var r=null,s=document.createElement("form");i.appendChild(s);var l=document.createElement("div");if(l.className="jlogin-logo",s.appendChild(l),a.options.logo){var d=document.createElement("img");d.src=a.options.logo,l.appendChild(d)}var c=document.createElement("label");c.innerHTML="Please enter here the code received";var u=document.createElement("input");u.type="number",u.id="code",u.setAttribute("maxlength",6);var p=document.createElement("div");p.appendChild(c),p.appendChild(u);var m=document.createElement("input");m.type="hidden",m.name="h";var f=document.createElement("div");f.appendChild(m);var h=document.createElement("input");h.type="hidden",h.name="recovery",h.value="1";var g=document.createElement("div");g.appendChild(h);var v=document.createElement("label");v.innerHTML="Login";var w=document.createElement("input");w.type="text",w.name="login",w.setAttribute("autocomplete","off"),w.onkeyup=function(){this.value=this.value.toLowerCase().replace(/[^a-zA-Z0-9_+]+/gi,"")};var y=document.createElement("div");y.appendChild(v),y.appendChild(w);var b=document.createElement("label");b.innerHTML="Name";var j=document.createElement("input");j.type="text",j.name="name";var L=document.createElement("div");L.appendChild(b),L.appendChild(j);var E=document.createElement("label");E.innerHTML="E-mail";var S=document.createElement("input");S.type="text",S.name="username",S.setAttribute("autocomplete","new-username");var C=document.createElement("div");C.appendChild(E),C.appendChild(S);var x=document.createElement("label");x.innerHTML="Password";var T=document.createElement("input");T.type="password",T.name="password",T.setAttribute("autocomplete","new-password");var A=document.createElement("div");A.appendChild(x),A.appendChild(T),A.onkeydown=function(e){13==e.keyCode&&a.execute()};var O=document.createElement("label");O.innerHTML="Password";var M=document.createElement("input");M.type="password",M.name="password";var H=document.createElement("div");H.appendChild(O),H.appendChild(M);var N=document.createElement("label");N.innerHTML="Remember me on this device";var k=document.createElement("input");k.type="checkbox",k.name="remember",k.value="1",N.appendChild(k);var I=document.createElement("div");I.className="rememberButton",I.appendChild(N);var D=document.createElement("input");D.type="button",D.value="Log In",D.onclick=function(){a.execute()};var X=document.createElement("div");X.appendChild(D);var Y=document.createElement("div");Y.innerHTML="Cancel",Y.className="cancelButton",Y.onclick=function(){a.requestAccess()};var P=document.createElement("div");P.appendChild(Y);var R=document.createElement("label");R.innerHTML="Please type here the code below";var q=document.createElement("input");q.type="text",q.name="captcha";var Z=document.createElement("img"),B=document.createElement("div");B.className="jlogin-captcha",B.appendChild(R),B.appendChild(q),B.appendChild(Z);var W=document.createElement("div");W.innerHTML="Login with Facebook",W.className="facebookButton";var F=document.createElement("div");F.appendChild(W),F.onclick=function(){a.requestLoginViaFacebook()};var V=document.createElement("span");V.innerHTML="Request a new password";var z=document.createElement("div");z.className="requestButton",z.appendChild(V),z.onclick=function(){a.requestNewPassword()};var U=document.createElement("span");U.innerHTML="Create a new profile";var _=document.createElement("div");return _.className="newProfileButton",_.appendChild(U),_.onclick=function(){a.newProfile()},i.className="jlogin",1==a.options.fullscreen&&i.classList.add("jlogin-fullscreen"),a.showMessage=function(e){"object"==typeof e&&e.message;"function"==typeof a.options.showMessage?a.options.showMessage(e):jSuites.alert(e)},a.newProfile=function(){s.innerHTML="",s.appendChild(l),a.options.newProfileLogin&&s.appendChild(y),s.appendChild(L),s.appendChild(C),s.appendChild(X),s.appendChild(F),s.appendChild(P),w.value="",S.value="",T.value="",D.value="Create new profile",r="newProfile"},a.requestNewPassword=function(){if(0<=Array.prototype.indexOf.call(s.children,B))var e=!0;s.innerHTML="",s.appendChild(l),s.appendChild(g),s.appendChild(C),e&&s.appendChild(B),s.appendChild(X),s.appendChild(P),D.value="Request a new password",h.value=1,r="requestNewPassword"},a.codeConfirmation=function(){s.innerHTML="",s.appendChild(l),s.appendChild(f),s.appendChild(p),s.appendChild(X),s.appendChild(P),D.value="Confirm code",h.value=2,r="codeConfirmation"},a.changeMyPassword=function(e){s.innerHTML="",s.appendChild(l),s.appendChild(f),s.appendChild(A),s.appendChild(H),s.appendChild(X),s.appendChild(P),D.value="Change my password",m.value=e,r="changeMyPassword"},a.requestAccess=function(){s.innerHTML="",s.appendChild(l),s.appendChild(C),s.appendChild(A),s.appendChild(X),s.appendChild(F),s.appendChild(z),s.appendChild(I),s.appendChild(z),1==a.options.newProfile&&s.appendChild(_),D.value="Login",T.value="",window.localStorage.getItem("username")?(S.value=window.localStorage.getItem("username"),T.focus()):S.focus(),r="requestAccess"},a.requestLoginViaFacebook=function(){"undefined"==typeof deviceNotificationToken?FB.getLoginStatus(function(e){e.status&&"connected"==e.status?a.execute({f:e.authResponse.accessToken}):FB.login(function(e){e.authResponse?a.execute({f:e.authResponse.accessToken}):a.showMessage("Not authorized by facebook")},{scope:"public_profile,email"})},!0):(jDestroy=function(){fbLogin.removeEventListener("loadstart",jStart),fbLogin.removeEventListener("loaderror",jError),fbLogin.removeEventListener("exit",jExit),fbLogin.close(),fbLogin=null},jStart=function(e){var t=e.url;0<=t.indexOf("access_token")&&setTimeout(function(){var e=t.match(/=(.*?)&/);32<e[1].length&&a.execute({f:e[1]}),jDestroy()},500),0<=t.indexOf("error=access_denied")&&(setTimeout(jDestroy,500),a.showMessage("Not authorized by facebook"))},jError=function(e){jDestroy()},jExit=function(e){jDestroy()},fbLogin=window.open(this.facebookUrl,"_blank","location=no,closebuttoncaption=Exit,disallowoverscroll=yes,toolbar=no"),fbLogin.addEventListener("loadstart",jStart),fbLogin.addEventListener("loaderror",jError),fbLogin.addEventListener("exit",jExit)),r="requestLoginViaFacebook"},a.execute=function(e){if("newProfile"==r){var t=new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);if(!S.value||!t.test(S.value))var n="Invalid e-mail address";t=new RegExp(/^[a-zA-Z0-9\_\-\.\s+]+$/);if(!w.value||!t.test(w.value))n="Invalid username, please use only characters and numbers";if(n)return a.showMessage(n),!1}if(""!=S.value&&window.localStorage.setItem("username",S.value),0<=Array.prototype.indexOf.call(s.children,B)&&""==q.value)return a.showMessage("Please enter the captch code below"),!1;var o=a.options.url;a.options.deviceToken&&(o+="?token="+a.options.deviceToken);e||((e=jSuites.getFormElements(i)).password&&(e.password=jSuites.login.sha512(e.password)),0<=Array.prototype.indexOf.call(s.children,p)&&u.value&&(e.h=jSuites.login.sha512(u.value)));i.classList.add("jlogin-loading");o="newProfile"==r&&a.options.newProfileUrl?a.options.newProfileUrl:a.options.url;jSuites.ajax({url:o,method:"POST",dataType:"json",data:e,success:function(e){var t;i.classList.remove("jlogin-loading"),(t=e)&&(1==t.success&&("requestNewPassword"==r?a.codeConfirmation():"codeConfirmation"==r?a.requestAccess():"newProfile"==r&&(a.requestAccess(),t.newProfile=!0),t.token&&(a.options.accessToken=t.token,window.localStorage.setItem("Access-Token",t.token))),t.message&&a.showMessage(t.message),t.data?(s.insertBefore(B,X),Z.setAttribute("src","data:image/png;base64,"+t.data)):0<=Array.prototype.indexOf.call(s.children,B)&&B.remove(),t.hash?a.changeMyPassword(t.hash):t.url&&(1==t.success?"function"==typeof a.options.onload?a.options.onload(t):t.message?setTimeout(function(){window.location.href=t.url},2e3):window.location.href=t.url:"function"==typeof a.options.onerror&&a.options.onerror(t)))},error:function(e){i.classList.remove("jlogin-loading"),"function"==typeof a.options.onerror&&a.options.onerror(e)}})},a.requestAccess(),a},jSuites.login.sha512=function(e){function a(e,t){this.highOrder=e,this.lowOrder=t}var t,n,o,i,r,s,l,d,c,u,p=[new a(1779033703,4089235720),new a(3144134277,2227873595),new a(1013904242,4271175723),new a(2773480762,1595750129),new a(1359893119,2917565137),new a(2600822924,725511199),new a(528734635,4215389547),new a(1541459225,327033209)],m=[new a(1116352408,3609767458),new a(1899447441,602891725),new a(3049323471,3964484399),new a(3921009573,2173295548),new a(961987163,4081628472),new a(1508970993,3053834265),new a(2453635748,2937671579),new a(2870763221,3664609560),new a(3624381080,2734883394),new a(310598401,1164996542),new a(607225278,1323610764),new a(1426881987,3590304994),new a(1925078388,4068182383),new a(2162078206,991336113),new a(2614888103,633803317),new a(3248222580,3479774868),new a(3835390401,2666613458),new a(4022224774,944711139),new a(264347078,2341262773),new a(604807628,2007800933),new a(770255983,1495990901),new a(1249150122,1856431235),new a(1555081692,3175218132),new a(1996064986,2198950837),new a(2554220882,3999719339),new a(2821834349,766784016),new a(2952996808,2566594879),new a(3210313671,3203337956),new a(3336571891,1034457026),new a(3584528711,2466948901),new a(113926993,3758326383),new a(338241895,168717936),new a(666307205,1188179964),new a(773529912,1546045734),new a(1294757372,1522805485),new a(1396182291,2643833823),new a(1695183700,2343527390),new a(1986661051,1014477480),new a(2177026350,1206759142),new a(2456956037,344077627),new a(2730485921,1290863460),new a(2820302411,3158454273),new a(3259730800,3505952657),new a(3345764771,106217008),new a(3516065817,3606008344),new a(3600352804,1432725776),new a(4094571909,1467031594),new a(275423344,851169720),new a(430227734,3100823752),new a(506948616,1363258195),new a(659060556,3750685593),new a(883997877,3785050280),new a(958139571,3318307427),new a(1322822218,3812723403),new a(1537002063,2003034995),new a(1747873779,3602036899),new a(1955562222,1575990012),new a(2024104815,1125592928),new a(2227730452,2716904306),new a(2361852424,442776044),new a(2428436474,593698344),new a(2756734187,3733110249),new a(3204031479,2999351573),new a(3329325298,3815920427),new a(3391569614,3928383900),new a(3515267271,566280711),new a(3940187606,3454069534),new a(4118630271,4000239992),new a(116418474,1914138554),new a(174292421,2731055270),new a(289380356,3203993006),new a(460393269,320620315),new a(685471733,587496836),new a(852142971,1086792851),new a(1017036298,365543100),new a(1126000580,2618297676),new a(1288033470,3409855158),new a(1501505948,4234509866),new a(1607167915,987167468),new a(1816402316,1246189591)],f=new Array(64);function h(e,t){var n,o,i;return n=(65535&e.lowOrder)+(65535&t.lowOrder),i=(65535&(o=(e.lowOrder>>>16)+(t.lowOrder>>>16)+(n>>>16)))<<16|65535&n,n=(65535&e.highOrder)+(65535&t.highOrder)+(o>>>16),new a((65535&(o=(e.highOrder>>>16)+(t.highOrder>>>16)+(n>>>16)))<<16|65535&n,i)}function g(e,t){return t<=32?new a(e.highOrder>>>t|e.lowOrder<<32-t,e.lowOrder>>>t|e.highOrder<<32-t):new a(e.lowOrder>>>t|e.highOrder<<32-t,e.highOrder>>>t|e.lowOrder<<32-t)}function v(e,t){return t<=32?new a(e.highOrder>>>t,e.lowOrder>>>t|e.highOrder<<32-t):new a(0,e.highOrder<<32-t)}var w,y,b,j,L,E,S,C,x,T,A,O,M,H,N,k,I,D,X,Y,P,R,q,Z,B,W,F,V,z,U,_,G,K,J,Q,$,ee,te=8*(e=unescape(encodeURIComponent(e))).length;(e=function(e){for(var t=[],n=8*e.length,o=0;o<n;o+=8)t[o>>5]|=(255&e.charCodeAt(o/8))<<24-o%32;return t}(e))[te>>5]|=128<<24-te%32,e[31+(128+te>>10<<5)]=te;for(var ne=0;ne<e.length;ne+=32){t=p[0],n=p[1],o=p[2],i=p[3],r=p[4],s=p[5],l=p[6],d=p[7];for(var oe=0;oe<80;oe++)f[oe]=oe<16?new a(e[2*oe+ne],e[2*oe+ne+1]):(J=f[oe-2],0,Q=g(J,19),$=g(J,61),ee=v(J,6),q=new a(Q.highOrder^$.highOrder^ee.highOrder,Q.lowOrder^$.lowOrder^ee.lowOrder),Z=f[oe-7],U=f[oe-15],0,_=g(U,1),G=g(U,8),K=v(U,7),B=new a(_.highOrder^G.highOrder^K.highOrder,_.lowOrder^G.lowOrder^K.lowOrder),W=f[oe-16],z=V=F=void 0,F=(65535&q.lowOrder)+(65535&Z.lowOrder)+(65535&B.lowOrder)+(65535&W.lowOrder),z=(65535&(V=(q.lowOrder>>>16)+(Z.lowOrder>>>16)+(B.lowOrder>>>16)+(W.lowOrder>>>16)+(F>>>16)))<<16|65535&F,F=(65535&q.highOrder)+(65535&Z.highOrder)+(65535&B.highOrder)+(65535&W.highOrder)+(V>>>16),new a((65535&(V=(q.highOrder>>>16)+(Z.highOrder>>>16)+(B.highOrder>>>16)+(W.highOrder>>>16)+(F>>>16)))<<16|65535&F,z)),C=d,0,Y=g(X=r,14),P=g(X,18),R=g(X,41),x=new a(Y.highOrder^P.highOrder^R.highOrder,Y.lowOrder^P.lowOrder^R.lowOrder),I=s,D=l,T=new a((k=r).highOrder&I.highOrder^~k.highOrder&D.highOrder,k.lowOrder&I.lowOrder^~k.lowOrder&D.lowOrder),A=m[oe],O=f[oe],N=H=M=void 0,M=(65535&C.lowOrder)+(65535&x.lowOrder)+(65535&T.lowOrder)+(65535&A.lowOrder)+(65535&O.lowOrder),N=(65535&(H=(C.lowOrder>>>16)+(x.lowOrder>>>16)+(T.lowOrder>>>16)+(A.lowOrder>>>16)+(O.lowOrder>>>16)+(M>>>16)))<<16|65535&M,M=(65535&C.highOrder)+(65535&x.highOrder)+(65535&T.highOrder)+(65535&A.highOrder)+(65535&O.highOrder)+(H>>>16),c=new a((65535&(H=(C.highOrder>>>16)+(x.highOrder>>>16)+(T.highOrder>>>16)+(A.highOrder>>>16)+(O.highOrder>>>16)+(M>>>16)))<<16|65535&M,N),u=h((0,L=g(j=t,28),E=g(j,34),S=g(j,39),new a(L.highOrder^E.highOrder^S.highOrder,L.lowOrder^E.lowOrder^S.lowOrder)),(y=n,b=o,new a((w=t).highOrder&y.highOrder^w.highOrder&b.highOrder^y.highOrder&b.highOrder,w.lowOrder&y.lowOrder^w.lowOrder&b.lowOrder^y.lowOrder&b.lowOrder))),d=l,l=s,s=r,r=h(i,c),i=o,o=n,n=t,t=h(c,u);p[0]=h(t,p[0]),p[1]=h(n,p[1]),p[2]=h(o,p[2]),p[3]=h(i,p[3]),p[4]=h(r,p[4]),p[5]=h(s,p[5]),p[6]=h(l,p[6]),p[7]=h(d,p[7])}var ie=[];for(ne=0;ne<p.length;ne++)ie.push(p[ne].highOrder),ie.push(p[ne].lowOrder);return function(e){for(var t,n="0123456789abcdef",o="",i=4*e.length,a=0;a<i;a+=1)t=e[a>>2]>>8*(3-a%4),o+=n.charAt(t>>4&15)+n.charAt(15&t);return o}(ie)},jSuites.mask=(Wm={},Xm=0,Ym=[],Zm=[],Wm.run=function(e,t,n){if(e&&t){if(n=n||".",e==Number(e))var o=(""+e).split("."),i=(e=o[0],o[1]);else e=""+e;var a;if(Xm=0,Ym=[],Wm.prepare(t),a=e)for(var r=0;r<a.length;r++)null!=a[r]&&Wm.process(a[r]);if(i&&(Wm.process(n),a=i))for(r=0;r<a.length;r++)null!=a[r]&&Wm.process(a[r]);return Ym.join("")}return""},Wm.apply=function(e){var t=e.target.getAttribute("data-mask");if(t&&46<e.keyCode){if(Xm=0,Ym=[],Wm.prepare(t),e.target.selectionStart<e.target.selectionEnd)var n=e.target.value.substring(0,e.target.selectionStart);else n=e.target.value;if(n)for(var o=0;o<n.length;o++)null!=n[o]&&Wm.process(n[o]);Wm.process(Wm.fromKeyCode(e)),e.target.value=Ym.join(""),Zm.length==Ym.length&&Zm[Zm.length-1].length==Ym[Ym.length-1].length?e.target.setAttribute("data-completed","true"):e.target.setAttribute("data-completed","false"),e.preventDefault()}},Wm.process=function(e){do{if("mm"==Zm[Xm])return null==Ym[Xm]||""==Ym[Xm]?1<parseInt(e)&&parseInt(e)<10?(Ym[Xm]="0"+e,Xm++,!0):parseInt(e)<10&&(Ym[Xm]=e,!0):1==Ym[Xm]&&Ym[Xm]<2&&parseInt(e)<3?(Ym[Xm]+=e,Xm++,!0):0==Ym[Xm]&&Ym[Xm]<10&&(Ym[Xm]+=e,Xm++,!0);if("dd"==Zm[Xm])return null==Ym[Xm]||""==Ym[Xm]?3<parseInt(e)&&parseInt(e)<10?(Ym[Xm]="0"+e,Xm++,!0):parseInt(e)<10&&(Ym[Xm]=e,!0):3==Ym[Xm]&&parseInt(e)<2?(Ym[Xm]+=e,Xm++,!0):Ym[Xm]<3&&parseInt(e)<10&&(Ym[Xm]+=e,Xm++,!0);if("hh24"==Zm[Xm])return null==Ym[Xm]||""==Ym[Xm]?2<parseInt(e)&&parseInt(e)<10?(Ym[Xm]="0"+e,Xm++,!0):parseInt(e)<10&&(Ym[Xm]=e,!0):2==Ym[Xm]&&parseInt(e)<4?(Ym[Xm]+=e,Xm++,!0):Ym[Xm]<2&&parseInt(e)<10&&(Ym[Xm]+=e,Xm++,!0);if("hh"==Zm[Xm])return null==Ym[Xm]||""==Ym[Xm]?1<parseInt(e)&&parseInt(e)<10?(Ym[Xm]="0"+e,Xm++,!0):parseInt(e)<10&&(Ym[Xm]=e,!0):1==Ym[Xm]&&parseInt(e)<3?(Ym[Xm]+=e,Xm++,!0):Ym[Xm]<1&&parseInt(e)<10&&(Ym[Xm]+=e,Xm++,!0);if("mi"==Zm[Xm]||"ss"==Zm[Xm])return null==Ym[Xm]||""==Ym[Xm]?5<parseInt(e)&&parseInt(e)<10?(Ym[Xm]="0"+e,Xm++,!0):parseInt(e)<10&&(Ym[Xm]=e,!0):parseInt(e)<10&&(Ym[Xm]+=e,Xm++,!0);if("yy"==Zm[Xm]||"yyyy"==Zm[Xm])return parseInt(e)<10&&(null==Ym[Xm]||""==Ym[Xm]?Ym[Xm]=e:Ym[Xm]+=e,Ym[Xm].length==Zm[Xm].length&&Xm++,!0);if("#"==Zm[Xm]||"#.##"==Zm[Xm]||"#,##"==Zm[Xm]||"# ##"==Zm[Xm]){if(e.match(/[0-9]/g)){if("#.##"==Zm[Xm])var t=".";else t="#,##"==Zm[Xm]?",":"# ##"==Zm[Xm]?" ":"";if(null==Ym[Xm]||""==Ym[Xm])Ym[Xm]=e;else if(Ym[Xm]+=e,t){Ym[Xm]=Ym[Xm].match(/[0-9]/g).join("");for(var n=[],o=0,i=Ym[Xm].length-1;0<=i;i--)n.push(Ym[Xm][i]),++o%3||n.push(t);n=n.reverse(),Ym[Xm]=n.join(""),Ym[Xm].substr(0,1)==t&&(Ym[Xm]=Ym[Xm].substr(1))}return!0}if(("#.##"!=Zm[Xm]||"."!=e)&&("#,##"!=Zm[Xm]||","!=e)&&("# ##"!=Zm[Xm]||" "!=e)&&Ym[Xm]&&Zm[++Xm]){if(Zm[Xm]==e)return Ym[Xm]=e,!0;if("0"==Zm[Xm]&&Zm[Xm+1]==e)return Ym[++Xm]=e,!0}return!1}if("0"==Zm[Xm])return!!e.match(/[0-9]/g)&&(Ym[Xm]=e,Xm++,!0);if("a"==Zm[Xm])return!!e.match(/[a-zA-Z]/g)&&(Ym[Xm]=e,Xm++,!0);if(null!=Zm[Xm]){if("\\a"==Zm[Xm])var a="a";else a="\\0"==Zm[Xm]?"0":"[-]"==Zm[Xm]?"-"==e||"+"==e?e:" ":Zm[Xm];if(e==(Ym[Xm]=a))return Xm++,!0}Xm++}while(Zm[Xm])},Wm.prepare=function(e){Zm=[];for(var t=0;t<e.length;t++)e[t].match(/[0-9]|[a-z]|\\/g)?"y"==e[t]&&"y"==e[t+1]&&"y"==e[t+2]&&"y"==e[t+3]?(Zm.push("yyyy"),t+=3):"y"==e[t]&&"y"==e[t+1]?(Zm.push("yy"),t++):"m"==e[t]&&"m"==e[t+1]&&"m"==e[t+2]&&"m"==e[t+3]?(Zm.push("mmmm"),t+=3):"m"==e[t]&&"m"==e[t+1]&&"m"==e[t+2]?(Zm.push("mmm"),t+=2):"m"==e[t]&&"m"==e[t+1]?(Zm.push("mm"),t++):"d"==e[t]&&"d"==e[t+1]?(Zm.push("dd"),t++):"h"==e[t]&&"h"==e[t+1]&&"2"==e[t+2]&&"4"==e[t+3]?(Zm.push("hh24"),t+=3):"h"==e[t]&&"h"==e[t+1]?(Zm.push("hh"),t++):"m"==e[t]&&"i"==e[t+1]?(Zm.push("mi"),t++):"s"==e[t]&&"s"==e[t+1]?(Zm.push("ss"),t++):"a"==e[t]&&"m"==e[t+1]?(Zm.push("am"),t++):"p"==e[t]&&"m"==e[t+1]?(Zm.push("pm"),t++):"\\"==e[t]&&"0"==e[t+1]?(Zm.push("\\0"),t++):"\\"==e[t]&&"a"==e[t+1]?(Zm.push("\\a"),t++):Zm.push(e[t]):"#"==e[t]&&"."==e[t+1]&&"#"==e[t+2]&&"#"==e[t+3]?(Zm.push("#.##"),t+=3):"#"==e[t]&&","==e[t+1]&&"#"==e[t+2]&&"#"==e[t+3]?(Zm.push("#,##"),t+=3):"#"==e[t]&&" "==e[t+1]&&"#"==e[t+2]&&"#"==e[t+3]?(Zm.push("# ##"),t+=3):"["==e[t]&&"-"==e[t+1]&&"]"==e[t+2]?(Zm.push("[-]"),t+=2):Zm.push(e[t])},Wm.fromKeyCode=function(e){var t={188:"44",109:"45",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",173:"45",187:"61",186:"59",189:"45"},n={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"},o=e.which;return t.hasOwnProperty(o)&&(o=t[o]),o=!e.shiftKey&&65<=o&&o<=90?String.fromCharCode(o+32):e.shiftKey&&n.hasOwnProperty(o)?n[o]:96<=o&&o<=105?String.fromCharCode(o-48):String.fromCharCode(o)},Wm),jSuites.mobile=(yn={options:{}},jSuites.el&&jSuites.el.addEventListener("mousedown",function(e){e.target.classList.contains("option-title")&&(e.target.classList.contains("selected")?e.target.classList.remove("selected"):e.target.classList.add("selected"))}),yn),jSuites.pages=function(){var container=null,current=null,createPage=function(options,callback){var page=document.createElement("div");return page.classList.add("page"),page.style.display="none",page.options=options||{},current?container.insertBefore(page,current.nextSibling):container.appendChild(page),jSuites.ajax({url:page.options.url,method:"GET",success:function(result){jSuites.refresh(page,page.options.onpush),page.innerHTML=result;for(var script=page.getElementsByTagName("script"),i=0;i<script.length;i++){var type=script[i].getAttribute("type");type&&"text/javascript"!=type||eval(script[i].innerHTML)}page.setTitle=function(e){this.children[0].children[0].children[1].innerHTML=e},page.options.closed||showPage(page),"function"==typeof page.options.onload&&page.options.onload(page),"function"==typeof callback&&callback(page)}}),page},showPage=function(e,t,n){if(current)if(current==e)current=e;else{window.scrollTo({top:0}),e.style.display="";var o=Array.prototype.indexOf.call(container.children,current),i=Array.prototype.indexOf.call(container.children,e);"function"==typeof current.options.onleave&&current.options.onleave(current,e,t),jSuites.slideLeft(container,o<i?0:1,function(){current.style.display="none",current=e}),"function"==typeof e.options.onenter&&e.options.onenter(e,current,t)}else e.style.display="","function"==typeof(current=e).options.onenter&&e.options.onenter(e);t||window.history.pushState({route:e.options.route},e.options.title,e.options.route),"function"==typeof n&&n(e)},obj=function(e,t){if(container||((container=document.querySelector(".pages"))||((container=document.createElement("div")).className="pages"),jSuites.el?jSuites.el.appendChild(container):document.body.appendChild(container)),obj.pages[e]){if(t){var n=0;if("function"==typeof t)i=t;else"function"==typeof t.onenter&&(obj.pages[e].options.onenter=t.onenter),"function"==typeof t.onleave&&(obj.pages[e].options.onleave=t.onleave),n=t.ignoreHistory?1:0}showPage(obj.pages[e],n,i||null)}else if(e){if("function"==typeof t)var o={},i=t;else o=t||{};if(o.closed=t&&t.closed?1:0,o.route=e,!o.url){var a=e.split("#");o.url=jSuites.pages.path+a[0]+".html"}o.title||(o.title="Untitled"),obj.pages[e]=createPage(o,i||null)}else alert("Error, no route provided")};return obj.pages={},obj.get=function(e){if(obj.pages[e])return obj.pages[e]},obj.getContainer=function(){return container},obj.destroy=function(){current=null,obj.pages={},container&&(container.innerHTML="")},obj}(),jSuites.pages.path="pages",jSuites.panel=function(){var panel=null,obj=function(e){panel||obj.create(jSuites.pages.path+e+".html"),panel.style.display="",panel.classList.contains("panel-left")?jSuites.slideLeft(panel,1):jSuites.slideRight(panel,1)};return obj.create=function(route){if(panel||(panel=document.createElement("div"),panel.classList.add("panel"),panel.classList.add("panel-left"),panel.style.display="none",jSuites.el?jSuites.el.appendChild(panel):document.body.appendChild(panel)),route){var url=jSuites.pages.path+route+".html";jSuites.ajax({url:url,method:"GET",success:function(result){panel.innerHTML=result;for(var script=panel.getElementsByTagName("script"),i=0;i<script.length;i++){var type=script[i].getAttribute("type");type&&"text/javascript"!=type||eval(script[i].innerHTML)}}})}},obj.close=function(){panel&&(panel.classList.contains("panel-left")?jSuites.slideLeft(panel,0,function(){panel.style.display="none"}):jSuites.slideRight(panel,0,function(){panel.style.display="none"}))},obj.get=function(){return panel},obj.destroy=function(){panel.remove(),panel=null},obj}(),jSuites.toolbar=function(e,t){var n={};n.options=t,n.selectItem=function(e){for(var t=i.children,n=0;n<t.length;n++)t[n].classList.remove("selected");e.classList.add("selected")},n.hide=function(){jSuites.slideBottom(o,0,function(){o.style.display="none"})},n.show=function(){o.style.display="",jSuites.slideBottom(o,1)},n.get=function(){return o},n.setBadge=function(e,t){i.children[e].children[1].firstChild.innerHTML=t},n.destroy=function(){o.remove(),o=null};var o=document.createElement("div");o.classList.add("jtoolbar"),o.onclick=function(e){var t=jSuites.getElement(e.target,"jtoolbar-item");t&&n.selectItem(t)};var i=document.createElement("div");o.appendChild(i);for(var a=0;a<t.items.length;a++){var r=document.createElement("div");if(r.classList.add("jtoolbar-item"),t.items[a].route&&(r.setAttribute("data-href",t.items[a].route),jSuites.pages(t.items[a].route,{closed:!0,onenter:function(){n.selectItem(r)}})),t.items[a].icon){var s=document.createElement("i");s.classList.add("material-icons"),s.innerHTML=t.items[a].icon,r.appendChild(s)}var l=document.createElement("div");l.classList.add("jbadge");var d=document.createElement("div");if(d.innerHTML=t.items[a].badge?t.items[a].badge:"",l.appendChild(d),r.appendChild(l),t.items[a].title){var c=document.createElement("span");c.innerHTML=t.items[a].title,r.appendChild(c)}i.appendChild(r)}return e.toolbar=n,e.appendChild(o),n},jSuites.actionsheet=function(){var s=document.createElement("div");s.className="jactionsheet",s.style.display="none";var l=document.createElement("div");l.className="jactionsheet-content",s.appendChild(l);var d=function(e){e&&(d.options=e),l.innerHTML="";for(var t=0;t<d.options.length;t++){var n=document.createElement("div");n.className="jactionsheet-group";for(var o=0;o<d.options[t].length;o++){var i=d.options[t][o],a=document.createElement("div"),r=document.createElement("input");r.type="button",r.value=i.title,i.className&&(r.className=i.className),i.onclick&&(r.onclick=i.onclick),"cancel"==i.action&&(r.style.color="red"),a.appendChild(r),n.appendChild(a)}l.appendChild(n)}s.style.display="",jSuites.el.appendChild(s),jSuites.slideBottom(l,!0)};d.close=function(){"none"!=s.style.display&&jSuites.slideBottom(l,!1,function(){s.remove(),s.style.display="none"})};return s.addEventListener("mouseup",function(e){d.close()}),d.options={},d}(),jSuites.modal=function(t,e){var n={options:{}},o={url:null,onopen:null,onclose:null,closed:!1,width:null,height:null,title:null};for(var i in o)e&&e.hasOwnProperty(i)?n.options[i]=e[i]:n.options[i]=o[i];!n.options.title&&t.getAttribute("title")&&(n.options.title=t.getAttribute("title"));for(var a=document.createElement("div"),r=0;r<t.children.length;r++)a.appendChild(t.children[r]);n.content=document.createElement("div"),n.content.className="jmodal_content",n.content.innerHTML=t.innerHTML;for(r=0;r<a.children.length;r++)n.content.appendChild(a.children[r]);n.container=document.createElement("div"),n.container.className="jmodal",n.container.appendChild(n.content),n.options.width&&(n.container.style.width=n.options.width),n.options.height&&(n.container.style.height=n.options.height),n.options.title?n.container.setAttribute("title",n.options.title):n.container.classList.add("no-title"),t.innerHTML="",t.style.display="none",t.appendChild(n.container);var s=document.createElement("div");return s.className="jmodal_backdrop",t.appendChild(s),n.open=function(){t.style.display="block";var e=n.container.getBoundingClientRect();jSuites.getWindowWidth()<e.width?(n.container.style.top="",n.container.style.left="",n.container.classList.add("jmodal_fullscreen"),jSuites.slideBottom(n.container,1)):s.style.display="block","function"==typeof(jSuites.modal.current=n).options.onopen&&n.options.onopen(t,n)},n.resetPosition=function(){n.container.style.top="",n.container.style.left=""},n.isOpen=function(){return"none"!=t.style.display},n.close=function(){t.style.display="none",s.style.display="",jSuites.modal.current=null,n.container.classList.remove("jmodal_fullscreen"),"function"==typeof n.options.onclose&&n.options.onclose(t,n)},jSuites.modal.hasEvents||(jSuites.modal.current=n,"ontouchstart"in document.documentElement==!0?document.addEventListener("touchstart",jSuites.modal.mouseDownControls):(document.addEventListener("mousedown",jSuites.modal.mouseDownControls),document.addEventListener("mousemove",jSuites.modal.mouseMoveControls),document.addEventListener("mouseup",jSuites.modal.mouseUpControls)),document.addEventListener("keydown",jSuites.modal.keyDownControls),jSuites.modal.hasEvents=!0),n.options.url?jSuites.ajax({url:n.options.url,method:"GET",success:function(e){n.content.innerHTML=e,n.options.closed||n.open()}}):n.options.closed||n.open(),t.modal=n},jSuites.modal.current=null,jSuites.modal.position=null,jSuites.modal.keyDownControls=function(e){27==e.which&&jSuites.modal.current&&jSuites.modal.current.close()},jSuites.modal.mouseUpControls=function(e){jSuites.modal.current&&(jSuites.modal.current.container.style.cursor="auto"),jSuites.modal.position=null},jSuites.modal.mouseMoveControls=function(e){if(jSuites.modal.current&&jSuites.modal.position)if(1==e.which||3==e.which){var t=jSuites.modal.position;jSuites.modal.current.container.style.top=t[1]+(e.clientY-t[3])+t[5]/2+"px",jSuites.modal.current.container.style.left=t[0]+(e.clientX-t[2])+t[4]/2+"px",jSuites.modal.current.container.style.cursor="move"}else jSuites.modal.current.container.style.cursor="auto"},jSuites.modal.mouseDownControls=function(o){jSuites.modal.position=[],o.target.classList.contains("jmodal")&&setTimeout(function(){var e=o.target.getBoundingClientRect();if(o.changedTouches&&o.changedTouches[0])var t=o.changedTouches[0].clientX,n=o.changedTouches[0].clientY;else t=o.clientX,n=o.clientY;e.width-(t-e.left)<50&&n-e.top<50?setTimeout(function(){jSuites.modal.current.close()},100):o.target.getAttribute("title")&&n-e.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),jSuites.modal.position=[e.left,e.top,o.clientX,o.clientY,e.width,e.height])},100)},jSuites.notification=function(e){var t={options:{}},n={icon:null,name:"Notification",date:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var o in n)e&&e.hasOwnProperty(o)?t.options[o]=e[o]:t.options[o]=n[o];var i=document.createElement("div");i.className="jnotification";var a=document.createElement("div");a.className="jnotification-container",i.appendChild(a);var r=document.createElement("div");r.className="jnotification-header",a.appendChild(r);var s=document.createElement("div");if(s.className="jnotification-image",r.appendChild(s),t.options.icon){var l=document.createElement("img");l.src=t.options.icon,s.appendChild(l)}var d=document.createElement("div");if(d.className="jnotification-name",d.innerHTML=t.options.name,r.appendChild(d),1==t.options.closeable){var c=document.createElement("div");c.className="jnotification-close",c.onclick=function(){t.hide()},r.appendChild(c)}var u=document.createElement("div");u.className="jnotification-date",r.appendChild(u);var p=document.createElement("div");if(p.className="jnotification-content",a.appendChild(p),t.options.title){var m=document.createElement("div");m.className="jnotification-title",m.innerHTML=t.options.title,p.appendChild(m)}var f=document.createElement("div");return f.className="jnotification-message",f.innerHTML=t.options.message,p.appendChild(f),t.show=function(){document.body.appendChild(i),800<jSuites.getWindowWidth()?jSuites.fadeIn(i):jSuites.slideTop(i,1)},t.hide=function(){800<jSuites.getWindowWidth()?jSuites.fadeOut(i,function(){i.parentNode.removeChild(i)}):jSuites.slideTop(i,0,function(){i.parentNode.removeChild(i)})},t.show(),1==t.options.autoHide&&setTimeout(function(){t.hide()},t.options.timeout),jSuites.getWindowWidth()<800&&i.addEventListener("swipeup",function(e){t.hide(),e.preventDefault(),e.stopPropagation()}),t},jSuites.rating=function(o,e){var i={options:{}},t={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var n in t)e&&e.hasOwnProperty(n)?i.options[n]=e[n]:i.options[n]=t[n];o.classList.add("jrating");for(var a=0;a<i.options.number;a++){var r=document.createElement("div");r.setAttribute("data-index",a+1),r.setAttribute("title",i.options.tooltip[a]),o.appendChild(r)}if(i.setValue=function(e){for(var t=0;t<i.options.number;t++)t<e?o.children[t].classList.add("jrating-selected"):(o.children[t].classList.remove("jrating-over"),o.children[t].classList.remove("jrating-selected"));i.options.value=e,"function"==typeof i.options.onchange&&i.options.onchange(o,e)},i.getValue=function(){return i.options.value},i.options.value)for(a=0;a<i.options.number;a++)a<i.options.value&&o.children[a].classList.add("jrating-selected");return o.addEventListener("click",function(e){var t=e.target.getAttribute("data-index");null!=t&&(t==i.options.value?i.setValue(0):i.setValue(t))}),o.addEventListener("mouseover",function(e){for(var t=e.target.getAttribute("data-index"),n=0;n<i.options.number;n++)n<t?o.children[n].classList.add("jrating-over"):o.children[n].classList.remove("jrating-over")}),o.addEventListener("mouseout",function(e){for(var t=0;t<i.options.number;t++)o.children[t].classList.remove("jrating-over")}),o.rating=i},jSuites.slider=function(o,e){var i={options:{},currentImage:null};if(e&&(i.options=e),i.options.items=[],o.classList.contains("jslider"))a=o.querySelector("slider-container");else{var a;if(o.classList.add("jslider"),(a=document.createElement("div")).className="jslider-container",0<o.children.length)for(var t=0;t<o.children.length;t++)i.options.items.push(o.children[t]);if(0<i.options.items.length)for(t=0;t<i.options.items.length;t++){i.options.items[t].classList.add("jfile"),(n=i.options.items[t].src.lastIndexOf("/"))<0?i.options.items[t].setAttribute("data-name",i.options.items[t].src):i.options.items[t].setAttribute("data-name",i.options.items[t].src.substr(n+1));var n=i.options.items[t].src.lastIndexOf("/");a.appendChild(i.options.items[t])}o.appendChild(a);var r=document.createElement("div");r.className="jslider-close",r.innerHTML="",r.onclick=function(){i.close()},o.appendChild(r)}if(i.show=function(e){if(!e)e=a.children[0];a.classList.contains("jslider-preview")||(a.classList.add("jslider-preview"),r.style.display="block");for(var t=0;t<a.children.length;t++)a.children[t].style.display="none";e.style.display="block",e.previousSibling?a.classList.add("jslider-left"):a.classList.remove("jslider-left"),e.nextSibling?a.classList.add("jslider-right"):a.classList.remove("jslider-right"),i.currentImage=e},i.open=function(){i.show(),"function"==typeof i.options.onopen&&i.options.onopen(o)},i.close=function(){a.classList.remove("jslider-preview"),a.classList.remove("jslider-left"),a.classList.remove("jslider-right");for(var e=0;e<a.children.length;e++)a.children[e].style.display="";r.style.display="",i.currentImage=null,"function"==typeof i.options.onclose&&i.options.onclose(o)},i.reset=function(){a.innerHTML=""},i.addFile=function(e,t){var n=document.createElement("img");n.setAttribute("data-lastmodified",e.lastmodified),n.setAttribute("data-name",e.name),n.setAttribute("data-size",e.size),n.setAttribute("data-extension",e.extension),n.setAttribute("data-cover",e.cover),n.setAttribute("src",e.file),n.className="jfile",a.appendChild(n),i.options.items.push(n),t||"function"==typeof i.options.onchange&&i.options.onchange(o,e)},i.addFiles=function(e){for(var t=0;t<e.length;t++)i.addFile(e[t])},i.next=function(){i.currentImage.nextSibling&&i.show(i.currentImage.nextSibling)},i.prev=function(){i.currentImage.previousSibling&&i.show(i.currentImage.previousSibling)},i.getData=function(){return jSuites.getFiles(a)},i.options.data&&i.options.data.length)for(t=0;t<i.options.data.length;t++)i.options.data[t]&&i.addFile(i.options.data[t]);if(i.options.allowAttachment){var s=document.createElement("input");s.type="file",s.className="slider-attachment",s.setAttribute("accept","image/*"),s.style.display="none",s.onchange=function(){for(var e=[],t=0;t<this.files.length;t++){if("image"==this.files[t].type.split("/")[0]){var n=this.files[t].name;n=(n=n.split("."))[n.length-1];var o={size:this.files[t].size,name:this.files[t].name,extension:n,cover:0,lastmodified:this.files[t].lastModified};e[t]=new FileReader,e[t].addEventListener("load",function(e){o.file=e.target.result,i.addFile(o)},!1),e[t].readAsDataURL(this.files[t])}else alert("The extension is not allowed")}};var l=document.createElement("i");l.innerHTML="attachment",l.className="jslider-attach material-icons",l.onclick=function(){jSuites.click(s)},o.appendChild(s),o.appendChild(l)}function d(e){if("IMG"==e.target.tagName){e.target;u=setTimeout(function(){"data"==e.target.src.substr(0,4)?e.target.remove():e.target.classList.contains("jremove")?e.target.classList.remove("jremove"):e.target.classList.add("jremove"),"function"==typeof i.options.onchange&&i.options.onchange(o,e.target)},1e3)}}function c(e){u&&clearTimeout(u),"IMG"==e.target.tagName?e.target.classList.contains("jremove")||i.show(e.target):e.target.clientWidth-e.offsetX<40?i.next():e.offsetX<40&&i.prev()}var u=null;return a.addEventListener("mousedown",d),a.addEventListener("touchstart",d),a.addEventListener("mouseup",c),a.addEventListener("touchend",c),o.addEventListener("swipeleft",function(e){i.next(),e.preventDefault(),e.stopPropagation()}),o.addEventListener("swiperight",function(e){i.prev(),e.preventDefault(),e.stopPropagation()}),o.slider=i},jSuites.sorting=function(e,t){e.classList.add("jsorting"),e.addEventListener("dragstart",function(e){e.target.classList.add("dragging")}),e.addEventListener("dragover",function(e){e.preventDefault(),e.target.clientHeight/2>e.offsetY?(e.path[0].style.borderTop="1px dotted #ccc",e.path[0].style.borderBottom=""):(e.path[0].style.borderTop="",e.path[0].style.borderBottom="1px dotted #ccc")}),e.addEventListener("dragleave",function(e){e.path[0].style.borderTop="",e.path[0].style.borderBottom=""}),e.addEventListener("dragend",function(e){e.path[1].querySelector(".dragging").classList.remove("dragging")}),e.addEventListener("drop",function(e){var t=e.path[1].querySelector(".dragging");e.target.clientHeight/2>e.offsetY?e.path[1].insertBefore(t,e.path[0]):e.path[1].insertBefore(t,e.path[0].nextSibling),e.path[0].style.borderTop="",e.path[0].style.borderBottom=""});for(var n=0;n<e.children.length;n++)e.children[n].setAttribute("draggable","true");return e},jSuites.tabs=function(e,t){var n={options:{}},o={data:null,onchange:null,onload:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];if(e.classList.add("jtabs"),n.options.data){e.innerHTML="";var a=document.createElement("div"),r=document.createElement("div");a.classList.add("jtabs-headers"),r.classList.add("jtabs-content"),e.appendChild(a),e.appendChild(r);for(var s=0;s<n.options.data.length;s++){var l=document.createElement("div");a.appendChild(l);var d=document.createElement("div");r.appendChild(d),l.innerHTML=n.options.data[s].title,n.options.data[s].content?d.innerHTML=n.options.data[s].content:n.options.data[s].url&&jSuites.ajax({url:n.options.data[s].url,type:"GET",success:function(e){d.innerHTML=e},complete:function(){"function"==typeof n.options.onload&&n.options.onload(e)}})}}else if(e.children[0]&&e.children[1]){a=e.children[0],r=e.children[1];a.classList.add("jtabs-headers"),r.classList.add("jtabs-content")}var c=document.createElement("div");c.className="jtabs-border",e.appendChild(c);return n.open=function(n){for(var e=0;e<a.children.length;e++)a.children[e].classList.remove("jtabs-selected"),r.children[e]&&r.children[e].classList.remove("jtabs-selected");a.children[n].classList.add("jtabs-selected"),r.children[n]&&r.children[n].classList.add("jtabs-selected"),setTimeout(function(){var e,t;e=n,t=a.children[e].getBoundingClientRect(),c.style.width=t.width+"px",c.style.top=t.top+t.height-2+"px",c.style.left=t.left+"px"},10)},a.addEventListener("click",function(e){var t=Array.prototype.indexOf.call(a.children,e.target);0<=t&&n.open(t)}),n.open(0),e.tabs=n},jSuites.tags=function(r,e){var s={options:{}},t={value:null,limit:null,search:null,placeholder:null,validation:null,onbeforechange:null,onchange:null,onfocus:null,onblur:null,onload:null,colors:null};for(var n in t)e&&e.hasOwnProperty(n)?s.options[n]=e[n]:s.options[n]=t[n];var l=null,o=null,i=0,a=0;s.add=function(e,t){if("function"==typeof s.options.onbeforechange){var n=s.options.onbeforechange(r,s,e);null!=n&&(e=n)}l&&(l.style.display="");var o=u();if(e&&"string"!=typeof e){o&&o.parentNode.classList.contains("jtags")&&(o.innerText.replace("\n","")||r.removeChild(o));for(var i=0;i<e.length;i++){(a=document.createElement("div")).innerHTML=e[i]?e[i]:"<br>",r.appendChild(a)}(a=document.createElement("div")).innerHTML="<br>",r.appendChild(a)}else{var a;(a=document.createElement("div")).innerHTML=e||"<br>",o&&o.parentNode.classList.contains("jtags")?r.insertBefore(a,o.nextSibling):r.appendChild(a)}t&&setTimeout(function(){c(a)},0),d(),"function"==typeof s.options.onchange&&s.options.onchange(r,s,e||"")},s.getData=function(){for(var e=[],t=0;t<r.children.length;t++){var n=s.getValue(t);if(n){var o=r.children[t].getAttribute("data-id");o=o||n,e.push({id:o,value:n})}}return e},s.getValue=function(e){var t=null;if(null!=e)t=r.children[e].innerText.replace("\n","");else{for(var n=[],o=0;o<r.children.length;o++)(t=r.children[o].innerText.replace("\n",""))&&n.push(s.getValue(o));t=n.join(",")}return t},s.setValue=function(e){if(e=e.trim()){var t=p(e);s.add(t)}},s.reset=function(){r.innerHTML="<div><br></div>"},s.isValid=function(){for(var e=0,t=0;t<r.children.length;t++)r.children[t].classList.contains("jtags_error")&&e++;return 0==e},s.selectIndex=function(e){o="";var t=u();t.innerText=e.children[1].innerText,e.children[1].getAttribute("data-id")&&t.setAttribute("data-id",e.children[1].getAttribute("data-id")),l&&(l.style.display="",l.innerHTML=""),t.classList.remove("jtags_error"),s.add()},s.search=function(e){if(!l){var t=document.createElement("div");t.style.position="relative",r.parentNode.insertBefore(t,r.nextSibling),(l=document.createElement("div")).classList.add("jtags_search"),t.appendChild(l)}var n=e.anchorNode.nodeValue;e.anchorNode.nodeValue&&n!=o&&(o=e.anchorNode.nodeValue,i=0,jSuites.ajax({url:s.options.search+o,method:"GET",dataType:"json",success:function(e){if(l.innerHTML="",e.length){l.style.display="block";for(var t=e.length<11?e.length:10,n=0;n<t;n++){var o=document.createElement("div");0==n&&o.classList.add("selected");var i=document.createElement("img");e[n].image?i.src=e[n].image:i.style.display="none",o.appendChild(i);var a=document.createElement("div");a.setAttribute("data-id",e[n].id),a.innerHTML=e[n].name,o.onclick=function(){s.selectIndex(this)},o.appendChild(a),l.appendChild(o)}}else l.style.display=""}}))},s.destroy=function(){r.removeEventListener("mouseup",v),r.removeEventListener("keydown",f),r.removeEventListener("keyup",h),r.removeEventListener("paste",g),r.removeEventListener("focus",w),r.removeEventListener("blur",y),r.parentNode.removeChild(r)};var d=function(){for(var e=0;e<r.children.length;e++)s.getValue(e)?(r.children[e].classList.add("jtags_label"),"function"==typeof s.options.validation&&(s.getValue(e)?s.options.validation(r.children[e],r.children[e].innerText,r.children[e].getAttribute("data-id"))?r.children[e].classList.remove("jtags_error"):r.children[e].classList.add("jtags_error"):r.children[e].classList.remove("jtags_error"))):r.children[e].classList.remove("jtags_label")},c=function(e){var t=document.createRange(),n=window.getSelection();t.setStart(e,e.innerText.length),t.collapse(!0),n.removeAllRanges(),n.addRange(t)},u=function(){var e=document.getSelection().anchorNode;return e?3==e.nodeType?e.parentNode:e:null},p=function(e){var t=[],n="";if(e=e.trim()){for(var o=0;o<e.length;o++)","==e[o]||";"==e[o]||"\r\n"==e[o]?n&&(t.push(n),n=""):n+=e[o];n&&t.push(n)}return t},m=0,f=function(e){if(m=window.getSelection().anchorOffset,!r.children.length){var t=document.createElement("div");t.innerHTML="<br>",r.appendChild(t)}if(9==e.which||186==e.which||188==e.which)1<window.getSelection().anchorOffset&&s.add(),e.preventDefault();else if(13==e.which){if(l&&""!=l.style.display)s.selectIndex(l.children[i]);else 1<window.getSelection().anchorOffset&&s.add();e.preventDefault()}else 38==e.which?l&&""!=l.style.display&&(l.children[i].classList.remove("selected"),0<i&&i--,l.children[i].classList.add("selected"),e.preventDefault()):40==e.which&&l&&""!=l.style.display&&(l.children[i].classList.remove("selected"),i<9&&i++,l.children[i].classList.add("selected"),e.preventDefault())},h=function(e){if(39==e.which){var t=window.getSelection().anchorOffset;1<t&&t==m&&s.add()}else 13==e.which||38==e.which||40==e.which?e.preventDefault():(a&&clearTimeout(a),a=setTimeout(function(){var e=window.getSelection();s.options.search&&s.search(e),a=null},300));d()},g=function(e){if(e.clipboardData||e.originalEvent.clipboardData){(e.originalEvent||e).clipboardData.getData("text/html");var t=(e.originalEvent||e).clipboardData.getData("text/plain")}else if(window.clipboardData)window.clipboardData.getData("Html"),t=window.clipboardData.getData("Text");s.setValue(t),e.preventDefault()},v=function(e){if(e.target.parentNode&&e.target.parentNode.classList.contains("jtags")&&(e.target.classList.contains("jtags_label")||e.target.classList.contains("jtags_error"))){var t=e.target.getBoundingClientRect();t.width-(e.clientX-t.left)<16&&(r.removeChild(e.target),r.focus())}l&&(l.style.display="")},w=function(e){if(!r.children.length||s.getValue(r.children.length-1)){var t=document.createElement("div");t.innerHTML="<br>",r.appendChild(t)}"function"==typeof s.options.onfocus&&s.options.onfocus(r,s,s.getValue())},y=function(e){l&&setTimeout(function(){l.style.display=""},200);for(var t=0;t<r.children.length-1;t++)s.getValue(t)||r.removeChild(r.children[t]);"function"==typeof s.options.onblur&&s.options.onblur(r,s,s.getValue())};return r.addEventListener("mouseup",v),r.addEventListener("keydown",f),r.addEventListener("keyup",h),r.addEventListener("paste",g),r.addEventListener("focus",w),r.addEventListener("blur",y),r.classList.add("jtags"),r.setAttribute("contenteditable",!0),r.setAttribute("spellcheck",!1),s.options.placeholder&&(r.placeholder=s.options.placeholder),s.options.value?s.setValue(s.options.value):r.innerHTML="<div><br></div>","function"==typeof s.options.onload&&s.options.onload(r,s),r.tags=s},jSuites.tracker=function(s,e){var i={options:{}},t={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,onload:null,onbeforesave:null,onsave:null};for(var n in t)e&&e.hasOwnProperty(n)?i.options[n]=e[n]:i.options[n]=t[n];return i.setUrl=function(e){i.options.url=e},i.load=function(){jSuites.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){for(var t=s.querySelectorAll("input, select, textarea"),n=0;n<t.length;n++){var o=t[n].getAttribute("name");e[o]&&(t[n].value=e[o])}"function"==typeof i.options.onload&&i.options.onload(s,e)}})},i.save=function(){var e=i.validate();if(e)jSuites.alert(e);else{var t=i.getElements(!0);if("function"==typeof i.options.onbeforesave)if(!1===(t=i.options.onbeforesave(s,t)))return void console.log("Onbeforesave returned false");jSuites.ajax({url:i.options.url,method:"POST",dataType:"json",data:t,success:function(e){if(jSuites.alert(e.message),"function"==typeof i.options.onsave)i.options.onsave(s,e);i.reset()}})}},i.validateElement=function(e){function t(e){return!!new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/).test(e)}function n(e){return e.classList.add("error"),i.options.submitButton&&i.options.submitButton.setAttribute("disabled",!0),e.getAttribute("data-error")||"There is an error in the form"}var o="";return e.value?e.getAttribute("data-email")&&!t(e.value)||e.getAttribute("data-password")&&!t(e.value)?o=n(e):e.classList.contains("error")&&function(e){var t=!1;e.classList.remove("error");for(var n=s.querySelectorAll("input, select, textarea"),o=0;o<n.length;o++)n[o].getAttribute("data-validation")&&n[o].classList.contains("error")&&(t=!0);i.options.submitButton&&(t?i.options.submitButton.setAttribute("disabled",!0):i.options.submitButton.removeAttribute("disabled"))}(e):o=n(e),o},i.validate=function(){for(var e="",t=s.querySelectorAll("input, select, textarea"),n=0;n<t.length;n++)t[n].getAttribute("data-validation")&&(e&&(e+="<br>\r\n"),e+=i.validateElement(t[n]));return e},i.getError=function(){return!!i.validation()},i.setHash=function(){return i.getHash(i.getElements())},i.getHash=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},i.isChanged=function(){var e=i.setHash();return i.options.currentHash!=e},i.resetTracker=function(){i.options.currentHash=i.setHash(),i.options.ignore=!1},i.reset=function(){i.options.currentHash=i.setHash(),i.options.ignore=!1},i.setIgnore=function(e){i.options.ignore=!!e},i.getElements=function(e){for(var t={},n=s.querySelectorAll("input, select, textarea"),o=0;o<n.length;o++){var i=n[o],a=i.name,r=i.value;a&&(t[a]=r)}return 1==e?t:JSON.stringify(t)},setTimeout(function(){i.options.currentHash=i.setHash()},1e3),window.addEventListener("beforeunload",function(e){if(i.isChanged()&&0==i.options.ignore){var t=i.options.message?i.options.message:"o/";return t?(void 0===e&&(e=window.event),e&&(e.returnValue=t),t):void 0}}),s.addEventListener("keyup",function(e){e.target.getAttribute("data-validation")&&i.validateElement(e.target)}),s.tracker=i},jSuites});